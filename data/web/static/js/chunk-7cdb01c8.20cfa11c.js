(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cdb01c8"],{2095:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c}));var n=a("b775");function i(e,t){var a="";return""!==t.lostName&&(a=a+"&lostName="+t.lostName),Object(n["a"])({url:"/lostMsgList/search?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function o(e){return Object(n["a"])({url:"/lostMsgList/addLost",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/lostMsgList/updateLost",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/lostMsgList/deleteLost",method:"post",data:e})}function c(){return Object(n["a"])({url:"/lostMsgList/getMyLostList",method:"get"})}},"72d2":function(e,t,a){},"862d":function(e,t,a){"use strict";(function(t,a){e.exports=a()})(0,(function(){function e(e){var n=[];return e.AMapUI&&n.push(t(e.AMapUI)),e.Loca&&n.push(a(e.Loca)),Promise.all(n)}function t(e){return new Promise((function(t,a){var l=[];if(e.plugins)for(var c=0;c<e.plugins.length;c+=1)-1==i.AMapUI.plugins.indexOf(e.plugins[c])&&l.push(e.plugins[c]);if(o.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(o.AMapUI===n.notload){o.AMapUI=n.loading,i.AMapUI.version=e.version||i.AMapUI.version,c=i.AMapUI.version;var r=document.body||document.head,p=document.createElement("script");p.type="text/javascript",p.src="https://webapi.amap.com/ui/"+c+"/main.js",p.onerror=function(e){o.AMapUI=n.failed,a("请求 AMapUI 失败")},p.onload=function(){if(o.AMapUI=n.loaded,l.length)window.AMapUI.loadUI(l,(function(){for(var e=0,a=l.length;e<a;e++){var n=l[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}for(t();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()}));else for(t();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},r.appendChild(p)}else o.AMapUI===n.loaded?e.version&&e.version!==i.AMapUI.version?a("不允许多个版本 AMapUI 混用"):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,a=l.length;e<a;e++){var n=l[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}t()})):t():e.version&&e.version!==i.AMapUI.version?a("不允许多个版本 AMapUI 混用"):s.AMapUI.push((function(e){e?a(e):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,a=l.length;e<a;e++){var n=l[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}t()})):t()}))}))}function a(e){return new Promise((function(t,a){if(o.Loca===n.failed)a("前次请求 Loca 失败");else if(o.Loca===n.notload){o.Loca=n.loading,i.Loca.version=e.version||i.Loca.version;var l=i.Loca.version,c=i.AMap.version.startsWith("2"),r=l.startsWith("2");if(c&&!r||!c&&r)a("JSAPI 与 Loca 版本不对应！！");else{c=i.key,r=document.body||document.head;var p=document.createElement("script");p.type="text/javascript",p.src="https://webapi.amap.com/loca?v="+l+"&key="+c,p.onerror=function(e){o.Loca=n.failed,a("请求 AMapUI 失败")},p.onload=function(){for(o.Loca=n.loaded,t();s.Loca.length;)s.Loca.splice(0,1)[0]()},r.appendChild(p)}}else o.Loca===n.loaded?e.version&&e.version!==i.Loca.version?a("不允许多个版本 Loca 混用"):t():e.version&&e.version!==i.Loca.version?a("不允许多个版本 Loca 混用"):s.Loca.push((function(e){e?a(e):a()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(n||(n={}));var i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},s={AMap:[],AMapUI:[],Loca:[]},l=[],c=function(e){"function"==typeof e&&(o.AMap===n.loaded?e(window.AMap):l.push(e))};return{load:function(t){return new Promise((function(a,s){if(o.AMap==n.failed)s("");else if(o.AMap==n.notload){var r=t.key,p=t.version,d=t.plugins;r?(window.AMap&&"lbs.amap.com"!==location.host&&s("禁止多种API加载方式混用"),i.key=r,i.AMap.version=p||i.AMap.version,i.AMap.plugins=d||i.AMap.plugins,o.AMap=n.loading,p=document.body||document.head,window.___onAPILoaded=function(i){if(delete window.___onAPILoaded,i)o.AMap=n.failed,s(i);else for(o.AMap=n.loaded,e(t).then((function(){a(window.AMap)}))["catch"](s);l.length;)l.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+i.AMap.version+"&key="+r+"&plugin="+i.AMap.plugins.join(","),d.onerror=function(e){o.AMap=n.failed,s(e)},p.appendChild(d)):s("请填写key")}else if(o.AMap==n.loaded)if(t.key&&t.key!==i.key)s("多个不一致的 key");else if(t.version&&t.version!==i.AMap.version)s("不允许多个版本 JSAPI 混用");else{if(r=[],t.plugins)for(p=0;p<t.plugins.length;p+=1)-1==i.AMap.plugins.indexOf(t.plugins[p])&&r.push(t.plugins[p]);r.length?window.AMap.plugin(r,(function(){e(t).then((function(){a(window.AMap)}))["catch"](s)})):e(t).then((function(){a(window.AMap)}))["catch"](s)}else if(t.key&&t.key!==i.key)s("多个不一致的 key");else if(t.version&&t.version!==i.AMap.version)s("不允许多个版本 JSAPI 混用");else{var u=[];if(t.plugins)for(p=0;p<t.plugins.length;p+=1)-1==i.AMap.plugins.indexOf(t.plugins[p])&&u.push(t.plugins[p]);c((function(){u.length?window.AMap.plugin(u,(function(){e(t).then((function(){a(window.AMap)}))["catch"](s)})):e(t).then((function(){a(window.AMap)}))["catch"](s)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},s={AMap:[],AMapUI:[],Loca:[]}}}}))},aa98:function(e,t,a){"use strict";a.d(t,"o",(function(){return c})),a.d(t,"r",(function(){return r})),a.d(t,"q",(function(){return p})),a.d(t,"m",(function(){return d})),a.d(t,"y",(function(){return u})),a.d(t,"z",(function(){return f})),a.d(t,"t",(function(){return g})),a.d(t,"w",(function(){return h})),a.d(t,"x",(function(){return v})),a.d(t,"j",(function(){return b})),a.d(t,"k",(function(){return y})),a.d(t,"v",(function(){return I})),a.d(t,"h",(function(){return _})),a.d(t,"a",(function(){return x})),a.d(t,"u",(function(){return A})),a.d(t,"g",(function(){return k})),a.d(t,"i",(function(){return O})),a.d(t,"c",(function(){return C})),a.d(t,"n",(function(){return T})),a.d(t,"d",(function(){return V})),a.d(t,"l",(function(){return D})),a.d(t,"B",(function(){return P})),a.d(t,"f",(function(){return z})),a.d(t,"e",(function(){return B})),a.d(t,"A",(function(){return J})),a.d(t,"C",(function(){return q})),a.d(t,"b",(function(){return F})),a.d(t,"s",(function(){return R})),a.d(t,"p",(function(){return G}));var n=a("c7eb"),i=a("1da1"),o=(a("d3b7"),a("b775")),s=a("376d"),l=a("2b0e");function c(e,t){var a="";return""!==t.abmStatus.value&&(a=a+"&abmStatus="+t.abmStatus.value),""!==t.controlStatus.value&&(a=a+"&controlStatus="+t.controlStatus.value),""!==t.lostMode.value&&(a=a+"&lostMode="+t.lostMode.value),""!==t.activationLock.value&&(a=a+"&activationLock="+t.activationLock.value),""!==t.serialNumber&&(a=a+"&serialNumber="+t.serialNumber),""!==t.userId&&(a=a+"&userId="+t.userId),""!==t.noOnlineTime.value&&(a=a+"&noOnlineTime="+t.noOnlineTime.value),""!==t.deviceMdm.disableErase.value&&(a=a+"&deviceMdm.disableErase="+t.deviceMdm.disableErase.value),Object(o["a"])({url:"/admin/adminSearchDevice?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function r(e,t){var a="";return""!==t.abmStatus.value&&(a=a+"&abmStatus="+t.abmStatus.value),""!==t.controlStatus.value&&(a=a+"&controlStatus="+t.controlStatus.value),""!==t.lostMode.value&&(a=a+"&lostMode="+t.lostMode.value),""!==t.activationLock.value&&(a=a+"&activationLock="+t.activationLock.value),""!==t.serialNumber&&(a=a+"&serialNumber="+t.serialNumber),""!==t.noOnlineTime.value&&(a=a+"&noOnlineTime="+t.noOnlineTime.value),""!==t.userName&&(a=a+"&userName="+t.userName),""!==t.userPhone&&(a=a+"&userPhone="+t.userPhone),""!==t.deviceMdm.disableErase.value&&(a=a+"&deviceMdm.disableErase="+t.deviceMdm.disableErase.value),Object(o["a"])({url:"/deviceInfo/search?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function p(e){return Object(o["a"])({url:"/deviceInfo/getDeviceInfo",method:"post",data:e})}function d(){return Object(o["a"])({url:"/deviceInfo/exportDevice",method:"post"})}function u(e){return Object(o["a"])({url:"/deviceInfo/updateAccessAppAuth",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/deviceInfo/updateAccessAuth",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/deviceInfo/lockMsgUpdate",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/deviceInfo/setWp",method:"post",data:e})}function v(e,t){var a="";return""!==t.taskName&&(a=a+"&taskName="+t.taskName),""!==t.deviceId&&(a=a+"&deviceId="+t.deviceId),t.isCheckInfo?a+="&isCheckInfo=0":a+="&isCheckInfo=1",Object(o["a"])({url:"/task/search?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function m(){return new Promise((function(e,t){var a=l["default"].extend(s["a"]),n=new a({el:document.createElement("div")});document.body.appendChild(n.$el),n.$on("password-correct",(function(t){e(t)})),n.$on("cancel",(function(){t(new Error("用户取消了密码输入"))})),n.open()}))}function b(e){return Object(o["a"])({url:"/deviceInfo/enableLostMode",method:"post",data:e})}function y(e){return Object(o["a"])({url:"/deviceInfo/enableTimeLostMode",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/deviceInfo/resetAuth",method:"post",data:e})}function _(e){return w.apply(this,arguments)}function w(){return w=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/disableLostMode",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return S=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/abmClose",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function A(e){return M.apply(this,arguments)}function M(){return M=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/removeMobileFile",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function k(e){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/disableErase",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(Object(n["a"])().mark((function e(t){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["a"])({url:"/deviceInfo/enableErase",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function C(e){return $.apply(this,arguments)}function $(){return $=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/clearPasscode",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function T(e){return W.apply(this,arguments)}function W(){return W=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/getActivationLockSkipCode",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function V(e){return N.apply(this,arguments)}function N(){return N=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/controlClose",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function D(e){return U.apply(this,arguments)}function U(){return U=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/eraseDevice",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function P(e){return Object(o["a"])({url:"/deviceInfo/updateIos",method:"post",data:e})}function z(e){return Object(o["a"])({url:"/deviceInfo/deviceActivateLockOpen",method:"post",data:e})}function B(e){return E.apply(this,arguments)}function E(){return E=Object(i["a"])(Object(n["a"])().mark((function e(t){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return a=e.sent,e.abrupt("return",Object(o["a"])({url:"/deviceInfo/deviceActivateLockClose",method:"post",data:t,headers:{authPassword:a}}));case 4:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function J(e){return Object(o["a"])({url:"/deviceInfo/updateDevice",method:"post",data:e})}function q(e){return Object(o["a"])({url:"/deviceInfo/updateDeviceInfo",method:"post",data:e})}function F(e){return Object(o["a"])({url:"/deviceInfo/allotDevice",method:"post",data:e})}function R(e){return Object(o["a"])({url:"/deviceInfo/getLocation?deviceId="+e,method:"get"})}function G(e){return Object(o["a"])({url:"/deviceInfo/getHomeInfo?exTime="+e,method:"get"})}},b562:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l}));a("b0c0");var n=a("b775");function i(e,t){var a="";return""!==t.name&&(a=a+"&name="+t.name),""!==t.buildId&&(a=a+"&buildId="+t.buildId),""!==t.appId&&(a=a+"&appId="+t.appId),Object(n["a"])({url:"/accessAppList/search?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function o(e){return Object(n["a"])({url:"/accessAppList/delete",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/accessAppList/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/accessAppList/add",method:"post",data:e})}},c0c2:function(e,t,a){"use strict";a.r(t);var n,i,o,s,l,c,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"1920px","margin-top":"20px","margin-left":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updateInfo}},[e._v("刷新设备信息")]),a("el-tabs",{staticStyle:{"margin-top":"20px"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"设备信息",name:"deviceInfo"}},[a("DeviceInfo",{attrs:{info:e.info},on:{"update:info":function(t){e.info=t},updateInfo:e.updateInfo}})],1),a("el-tab-pane",{attrs:{info:e.info,label:"APP访问限制",name:"deviceApp"},on:{"update:info":function(t){e.info=t}}},[a("AuthAppList",{attrs:{info:e.info},on:{"update:info":function(t){e.info=t},updateInfo:e.updateInfo}})],1),a("el-tab-pane",{attrs:{info:e.info,label:"设备访问限制",name:"deviceConfig"},on:{"update:info":function(t){e.info=t}}},[a("AuthList",{attrs:{info:e.info},on:{"update:info":function(t){e.info=t}}})],1),a("el-tab-pane",{attrs:{info:e.info,label:"锁屏信息",name:"deviceLock"},on:{"update:info":function(t){e.info=t}}},[a("LockMsg",{attrs:{info:e.info},on:{"update:info":function(t){e.info=t}}})],1),a("el-tab-pane",{attrs:{info:e.info,label:"壁纸信息",name:"deviceWp"},on:{"update:info":function(t){e.info=t}}},[a("WpList",{attrs:{info:e.info},on:{"update:info":function(t){e.info=t},update:e.updateInfo}})],1),a("el-tab-pane",{attrs:{info:e.info,label:"操作记录",name:"taskRecord"},on:{"update:info":function(t){e.info=t}}},[a("TaskList",{ref:"childComponent",attrs:{info:e.info},on:{"update:info":function(t){e.info=t}}})],1),a("el-tab-pane",{attrs:{info:e.info,label:"设备定位",name:"deviceMap"},on:{"update:info":function(t){e.info=t}}},[a("DeviceMap",{ref:"childComponentMap",attrs:{info:e.info},on:{"update:info":function(t){e.info=t}}})],1)],1)],1)],1)},p=[],d=(a("b0c0"),a("5c96")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("序列号: ")]),a("span",[e._v(e._s(e.info.serialNumber))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("设备型号: ")]),a("span",[e._v(e._s(e.info.description))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"})]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("abm状态: ")]),0===e.info.abmStatus?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("未注册")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[e._v("已注册")])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("激活锁: ")]),0===e.info.activationLock?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("已关闭")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[e._v("已开启")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("丢失模式: ")]),0===e.info.lostMode?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("已关闭")]):e._e(),1===e.info.lostMode?a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[e._v("已开启")]):e._e(),2===e.info.lostMode?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("待丢失")]):e._e(),3===e.info.lostMode?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("待解除")]):e._e()])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("监管状态: ")]),0===e.info.controlStatus?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("已脱管")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[e._v("监管中")])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("添加时间: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.createTime))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("颜色: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.color))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("激活锁密码: ")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.copy(e.info)}}},[e._v("复制")])],1)])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("卡1运营商: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.tmobileOne))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("设备电话号码: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.phoneOne))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("IMEI: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.imeiOne))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("卡2运营商: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.tmobileTwo))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("设备电话号码: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.phoneTwo))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("IMEI: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.imeiTwo))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("MEID: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.meid))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("UDID: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.udid))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("锁屏信息前置信息: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.deviceMdm.lockMsgBefore))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("锁屏信息后置信息: ")]),a("span",{attrs:{type:"success"}},[e._v(e._s(e.info.deviceMdm.lockMsgAfter))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("锁屏信息开关: ")]),0===e.info.deviceMdm.lockMsgStatus?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[e._v("已关闭")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[e._v("已开启")])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("app访问限制类型: ")]),1===e.info.deviceMdm.accessAppType?a("span",{attrs:{type:"danger"}},[e._v("允许所有APP")]):e._e(),2===e.info.deviceMdm.accessAppType?a("span",{attrs:{type:"danger"}},[e._v("允许部分app")]):e._e(),3===e.info.deviceMdm.accessAppType?a("span",{attrs:{type:"danger"}},[e._v("不允许部分app")]):e._e()])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("壁纸类型: ")]),1===e.info.deviceMdm.wallpaperType?a("span",{attrs:{type:"danger"}},[e._v("锁屏")]):e._e(),2===e.info.deviceMdm.wallpaperType?a("span",{attrs:{type:"danger"}},[e._v("主屏幕")]):e._e(),3===e.info.deviceMdm.wallpaperType?a("span",{attrs:{type:"danger"}},[e._v("锁屏和主屏幕")]):e._e()])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("备注: ")]),a("span",[e._v(e._s(e.info.remark))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("最后通信时间: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.deviceLastCallDateFormat))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("分组: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.groupName))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("历史手机号: ")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(){e.phoneDig=!0}}},[e._v("查看")])],1)])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("设备名称: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.deviceName))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("电池电量: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s((100*e.info.batteryLevel).toFixed(2)+"%"))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("剩余存储空间: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.availableDeviceCapacity+"/GB"))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("设备IP: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.deviceIp))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("设备IP地址: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.deviceIpAddr))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("自动锁机时间: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.autoLostModeTime))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("系统版本: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.os))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[e._v("最后通信日期: ")]),a("span",{attrs:{type:"danger"}},[e._v(e._s(e.info.deviceLastCallDate))])])])],1)],1)]),a("el-card",{staticStyle:{"margin-top":"20px","margin-left":"20px"}},[a("div",[e.checkAuth("deviceInfo.updateDevice")?a("el-button",{attrs:{type:"primary"},on:{click:e.updateDevice}},[e._v("更新设备")]):e._e(),e.checkAuth("deviceInfo.enableLostMode")&&0===e.info.lostMode&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.enableLostMode(!0)}}},[e._v("启用丢失模式")]):e._e(),e.checkAuth("deviceInfo.disableLostMode")&&1===e.info.lostMode&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:e.disableLostMode}},[e._v("关闭丢失模式")]):e._e(),e.checkAuth("deviceInfo.deviceActivateLockOpen")&&0===e.info.activationLock&&1===e.info.abmStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.deviceActivateLockOpen(!0)}}},[e._v("开启激活锁")]):e._e(),e.checkAuth("deviceInfo.deviceActivateLockClose")&&1===e.info.activationLock?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(t){return e.deviceActivateLockClose()}}},[e._v("关闭激活锁")]):e._e(),e.checkAuth("deviceInfo.clearPasscode")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.clearPasscode()}}},[e._v("移除锁屏密码")]):e._e(),e.checkAuth("deviceInfo.controlClose")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.controlClose()}}},[e._v("一键删除监管")]):e._e(),e.checkAuth("deviceInfo.eraseDevice")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.eraseDevice()}}},[e._v("强制抹除设备")]):e._e(),e.checkAuth("deviceInfo.updateIos")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.updateIos()}}},[e._v("强制更新系统")]):e._e(),e.checkAuth("deviceInfo.resetAuth")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.resetAuth()}}},[e._v("重置为最新安全策略")]):e._e()],1),a("div",{staticStyle:{"margin-top":"20px"}},[e.checkAuth("deviceInfo.enableLostMode")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"primary"},on:{click:function(t){return e.enableLostModeNoWait(!0)}}},[e._v("启用丢失模式：异步")]):e._e(),e.checkAuth("deviceInfo.disableLostMode")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:e.disableLostModeNoWait}},[e._v("关闭丢失模式：异步")]):e._e(),e.checkAuth("deviceInfo.enableTimeLost")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.enableTimeLostMode(!0)}}},[e._v("定时丢失模式：异步")]):e._e(),e.checkAuth("deviceInfo.clearPasscode")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.clearPasscodeNoWait()}}},[e._v("移除锁屏密码：异步")]):e._e(),e.checkAuth("deviceInfo.eraseDevice")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.eraseDeviceNoWait()}}},[e._v("强制抹除设备：异步")]):e._e(),e.checkAuth("deviceInfo.updateIos")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.updateIosNoWait()}}},[e._v("强制更新系统：异步")]):e._e(),e.checkAuth("deviceInfo.resetAuth")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.resetNoWaitAuth()}}},[e._v("重置为最新安全策略: 异步")]):e._e()],1),a("div",{staticStyle:{"margin-top":"20px"}},[e.checkAuth("deviceInfo.abmClose")&&1===e.info.abmStatus?a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger"},on:{click:function(t){return e.abmClose()}}},[e._v("解绑ABM")]):e._e(),e.checkAuth("deviceInfo.removeMobileFile")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(t){return e.removeMobileFile()}}},[e._v("移除监管文件")]):e._e(),e.checkAuth("deviceInfo.removeMobileFile")&&1===e.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(t){return e.removeMobileFileNoWait()}}},[e._v("移除监管文件: 异步")]):e._e()],1)]),a("el-dialog",{attrs:{title:"丢失模式",visible:e.enableLostModeVar.dig,width:"30%","before-close":function(){e.enableLostModeVar.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("信息模版")]),a("el-select",{attrs:{clearable:"",placeholder:"信息模版"},on:{change:e.updateLostMsg},model:{value:e.lostMsgList.value,callback:function(t){e.$set(e.lostMsgList,"value",t)},expression:"lostMsgList.value"}},e._l(e.lostMsgList.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("丢失消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"丢失消息"},model:{value:e.enableLostModeVar.msg,callback:function(t){e.$set(e.enableLostModeVar,"msg",t)},expression:"enableLostModeVar.msg"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("详细描述")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"详细描述"},model:{value:e.enableLostModeVar.desc,callback:function(t){e.$set(e.enableLostModeVar,"desc",t)},expression:"enableLostModeVar.desc"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("联系手机号码")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"联系手机号码"},model:{value:e.enableLostModeVar.phone,callback:function(t){e.$set(e.enableLostModeVar,"phone",t)},expression:"enableLostModeVar.phone"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.enableLostMode(!1)}}},[e._v("开启丢失模式")])],1)]),a("el-dialog",{attrs:{title:"历史手机号",visible:e.phoneDig,width:"20%","before-close":function(){e.phoneDig=!1}}},[a("div",{staticStyle:{"margin-top":"10px"}}),e._l(e.localInfo.historyPhone,(function(t,n){return a("div",{staticClass:"text item",staticStyle:{"margin-top":"10px","font-size":"20px"}},[e._v(" "+e._s(t.phone)+" ")])}))],2),a("el-dialog",{attrs:{title:"定时丢失模式",visible:e.enableTimeLostModeVar.dig,width:"30%","before-close":function(){e.enableTimeLostModeVar.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("信息模版")]),a("el-select",{attrs:{clearable:"",placeholder:"信息模版"},on:{change:e.updateLostMsg},model:{value:e.lostMsgList.value,callback:function(t){e.$set(e.lostMsgList,"value",t)},expression:"lostMsgList.value"}},e._l(e.lostMsgList.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("丢失消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"丢失消息"},model:{value:e.enableTimeLostModeVar.msg,callback:function(t){e.$set(e.enableTimeLostModeVar,"msg",t)},expression:"enableTimeLostModeVar.msg"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("详细描述")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"详细描述"},model:{value:e.enableTimeLostModeVar.desc,callback:function(t){e.$set(e.enableTimeLostModeVar,"desc",t)},expression:"enableTimeLostModeVar.desc"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("联系手机号码")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"联系手机号码"},model:{value:e.enableTimeLostModeVar.phone,callback:function(t){e.$set(e.enableTimeLostModeVar,"phone",t)},expression:"enableTimeLostModeVar.phone"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("启用丢失时间")]),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:e.enableTimeLostModeVar.exTime,callback:function(t){e.$set(e.enableTimeLostModeVar,"exTime",t)},expression:"enableTimeLostModeVar.exTime"}})],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.enableTimeLostMode(!1)}}},[e._v("开启丢失模式")])],1)]),a("el-dialog",{attrs:{title:"激活锁",visible:e.deviceActivateLockOpenVar.dig,width:"30%","before-close":function(){e.deviceActivateLockOpenVar.dig=!1}}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("丢失消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"丢失消息"},model:{value:e.deviceActivateLockOpenVar.msg,callback:function(t){e.$set(e.deviceActivateLockOpenVar,"msg",t)},expression:"deviceActivateLockOpenVar.msg"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deviceActivateLockOpen(!1)}}},[e._v("开启激活锁")])],1)])],1)},f=[],g=(a("e9c4"),a("b64b"),a("27aa")),h=a("aa98"),v=a("2095"),m=a("837c"),b={computed:{item:function(){return m["a"]}},components:{enableLostModeApi:h["j"],getActivationLockSkipCodeApi:h["n"],enableTimeLostModeApi:h["k"],disableLostModeApi:h["h"],clearPasscodeApi:h["c"],controlCloseApi:h["d"],deviceActivateLockOpenApi:h["f"],deviceActivateLockCloseApi:h["e"],updateDeviceApi:h["A"],eraseDeviceApi:h["l"],updateIosApi:h["B"],getMyLostAllApi:v["c"],enableEraseApi:h["i"],disableEraseApi:h["g"],resetAuthApi:h["v"],abmCloseApi:h["a"],removeMobileFileApi:h["u"]},props:{info:{type:Object,default:{}}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e))}}},created:function(){n=this,this.localInfo=JSON.parse(JSON.stringify(this.info)),this.getMyLostAll(),console.log("权限超找结果",this.checkAuth("accessAppList.add"))},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},updateLostMsg:function(e){if(""===e)console.log("Selected value changed to:",e);else{var t=JSON.parse(e);console.log(t.lostMsg),this.enableLostModeVar.msg=t.lostMsg,this.enableLostModeVar.phone=t.lostPhone,this.enableLostModeVar.desc=t.lostDesc,this.enableTimeLostModeVar.msg=t.lostMsg,this.enableTimeLostModeVar.phone=t.lostPhone,this.enableTimeLostModeVar.desc=t.lostDesc}},copy:function(e){var t=this;console.log("设备信息",e),Object(h["n"])({deviceId:e.deviceId}).then((function(e){var a=document.createElement("input");a.value=e.data,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.className="oInput",a.style.display="none",t.$msg("复制成功",1)}))},enableLostMode:function(e){console.log("enableLostMode",e),e?(this.enableLostModeVar.dig=!0,this.enableLostModeVar.isWait=1):(this.enableLostModeVar.deviceId=this.localInfo.deviceId,Object(h["j"])(this.enableLostModeVar).then((function(e){n.$msg("操作成功",1),n.enableLostModeVar.dig=!1,n.$emit("updateInfo")})))},enableLostModeNoWait:function(e){console.log("enableLostMode",e),e&&(this.enableLostModeVar.dig=!0,this.enableLostModeVar.isWait=0)},enableTimeLostMode:function(e){console.log("enableLostMode",e),console.log("enableLostMode",e),e?(this.enableTimeLostModeVar.dig=!0,this.enableTimeLostModeVar.isWait=0):(this.enableTimeLostModeVar.deviceId=this.localInfo.deviceId,null!=this.enableTimeLostModeVar.exTime&&""!==this.enableTimeLostModeVar.exTime||(this.enableTimeLostModeVar.exTime=0),Object(h["k"])(this.enableTimeLostModeVar).then((function(e){n.$msg("操作成功",1),n.enableTimeLostModeVar.dig=!1,n.$emit("updateInfo")})))},disableLostMode:function(){this.disableLostModeVar.deviceId=this.localInfo.deviceId,this.disableLostModeVar.isWait=1,Object(h["h"])(this.disableLostModeVar).then((function(e){n.$msg("关闭丢失模式成功",1),n.$emit("updateInfo")}))},disableLostModeNoWait:function(){this.disableLostModeVar.deviceId=this.localInfo.deviceId,this.disableLostModeVar.isWait=0,Object(h["h"])(this.disableLostModeVar).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},getMyLostAll:function(){Object(v["c"])().then((function(e){var t=e.data;n.lostMsgList.tab=[];for(var a=0;a<t.length;a++)console.log(t[a]),n.lostMsgList.tab.push({value:JSON.stringify(t[a]),label:t[a].lostName})}))},deviceActivateLockOpen:function(e){this.deviceActivateLockOpenVar.deviceId=this.localInfo.deviceId,Object(h["f"])(this.deviceActivateLockOpenVar).then((function(e){n.$msg("启用激活锁成功",1),n.$emit("updateInfo")}))},deviceActivateLockClose:function(){this.deviceActivateLockCloseVar.deviceId=this.localInfo.deviceId,Object(h["e"])(this.deviceActivateLockCloseVar).then((function(e){n.$msg("关闭激活锁成功",1),n.$emit("updateInfo")}))},disableErase:function(e){this.disableEraseVar.deviceId=this.localInfo.deviceId,this.disableEraseVar.isWait=1,Object(h["g"])(this.disableEraseVar).then((function(e){n.$msg("操作成功",1),n.$emit("updateInfo")}))},enableErase:function(){this.enableEraseVar.deviceId=this.localInfo.deviceId,this.enableEraseVar.isWait=1,Object(h["i"])(this.enableEraseVar).then((function(e){n.$msg("操作成功",1),n.$emit("updateInfo")}))},disableEraseNoWait:function(){this.disableEraseVar.deviceId=this.localInfo.deviceId,this.disableEraseVar.isWait=0,Object(h["g"])(this.disableEraseVar).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},enableEraseNoWait:function(){this.enableEraseVar.deviceId=this.localInfo.deviceId,this.enableEraseVar.isWait=0,Object(h["i"])(this.enableEraseVar).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},updateDevice:function(){Object(h["A"])({deviceId:this.localInfo.deviceId,isWait:1}).then((function(e){n.$msg("更新设备成功",1),n.$emit("updateInfo")}))},clearPasscode:function(){Object(h["c"])({deviceId:this.localInfo.deviceId,isWait:1}).then((function(e){n.$msg("移除锁屏密码成功",1),n.$emit("updateInfo")}))},clearPasscodeNoWait:function(){Object(h["c"])({deviceId:this.localInfo.deviceId,isWait:0}).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},controlClose:function(){var e=this;this.$confirm("此操作将删除abm监管,删除监管描述文件,关闭激活锁,移除app限制,操作后无法控制设备,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["d"])({deviceId:e.localInfo.deviceId}).then((function(e){n.$msg("删除监管成功",1),n.$emit("updateInfo")}))}))},resetAuth:function(){var e=this;this.$confirm("此操作将重置权限为最新安全策略状态,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["v"])({deviceId:e.localInfo.deviceId,isWait:1}).then((function(e){n.$msg("成功",1),n.$emit("updateInfo")}))}))},resetNoWaitAuth:function(){var e=this;this.$confirm("此操作将重置权限为最新安全策略状态,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["v"])({deviceId:e.localInfo.deviceId,isWait:0}).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))},eraseDevice:function(){var e=this;this.$confirm("此操作将抹除设备,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["l"])({deviceId:e.localInfo.deviceId,isWait:1}).then((function(e){n.$msg("命令执行成功",1),n.$emit("updateInfo")}))}))},eraseDeviceNoWait:function(){var e=this;this.$confirm("此操作将抹除设备,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["l"])({deviceId:e.localInfo.deviceId,isWait:0}).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))},updateIos:function(){var e=this;this.$confirm("此操作将更新系统可能影响设备使用,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["B"])({deviceId:e.localInfo.deviceId,isWait:1}).then((function(e){n.$msg("命令执行成功",1),n.$emit("updateInfo")}))}))},updateIosNoWait:function(){var e=this;this.$confirm("此操作将更新系统可能影响设备使用,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["B"])({deviceId:e.localInfo.deviceId,isWait:0}).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))},abmClose:function(){var e=this;this.$confirm("abm解绑后会导致激活锁只能关闭不能开启 无法重新绑定,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["a"])({deviceId:e.localInfo.deviceId}).then((function(e){n.$msg("解绑成功",1),n.$emit("updateInfo")}))}))},removeMobileFile:function(){var e=this;this.$confirm("移除监管文件会导致设备脱管 无法下发命令 只能开启关闭激活锁 ,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["u"])({deviceId:e.localInfo.deviceId,isWait:1}).then((function(e){n.$msg("操作成功",1),n.$emit("updateInfo")}))}))},removeMobileFileNoWait:function(){var e=this;this.$confirm("移除监管文件会导致设备脱管 无法下发命令 只能开启关闭激活锁,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["u"])({deviceId:e.localInfo.deviceId,isWait:0}).then((function(e){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))}},data:function(){return{localInfo:this.info,phoneDig:!1,enableLostModeVar:{msg:"",deviceId:"",phone:"",desc:"",dig:!1,isWait:1},enableTimeLostModeVar:{msg:"",deviceId:"",phone:"",desc:"",dig:!1,isWait:1,exTime:"",time:""},disableLostModeVar:{deviceId:"",isWait:1},disableEraseVar:{deviceId:"",isWait:1},enableEraseVar:{deviceId:"",isWait:1},lostMsgList:{tab:[{}],value:""},deviceActivateLockOpenVar:{deviceId:"",msg:"",dig:!1},deviceActivateLockCloseVar:{deviceId:""},abmCloseVar:{deviceId:""},removeMobileFileVar:{deviceId:"",isWait:1}}}},y=b,I=a("2877"),_=Object(I["a"])(y,u,f,!1,null,"cdb5de42",null),w=_.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-radio-group",{model:{value:e.localInfo.deviceMdm.accessAppType,callback:function(t){e.$set(e.localInfo.deviceMdm,"accessAppType",t)},expression:"localInfo.deviceMdm.accessAppType"}},[a("el-radio",{attrs:{label:1}},[e._v("允许所有APP")]),a("el-radio",{attrs:{label:2}},[e._v("允许部分app")]),a("el-radio",{attrs:{label:3}},[e._v("不允许部分app")])],1),e.checkAuth("deviceInfo.updateAccessAppAuth")?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("保存并应用")]):e._e(),e.checkAuth("deviceInfo.updateAccessAppAuth")?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.saveNoWait}},[e._v("保存并应用: 异步")]):e._e(),a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.localInfo.authAppList}},[a("el-table-column",{attrs:{prop:"appId",label:"appId"}}),a("el-table-column",{attrs:{prop:"name",label:"app名称"}}),a("el-table-column",{attrs:{prop:"buildId",label:"包名"}}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isPublic?a("el-tag",{attrs:{type:"success"}},[e._v("公有")]):e._e(),0===t.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[e._v("自有")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.icon,alt:"icon"}})]}}])}),a("el-table-column",{attrs:{prop:"appType",label:"app类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.appType?a("el-tag",{attrs:{type:"success"}},[e._v("appstore")]):e._e(),2===t.row.appType?a("el-tag",{attrs:{type:"danger"}},[e._v("自定义")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.remove(t.row.appId)}}},[e._v("删除")])]}}])})],1)],1)],1),a("AppList",{staticStyle:{"margin-top":"20px"},on:{addToDevice:e.addToDevice}})],1)],1)},S=[],A=(a("4de4"),a("d3b7"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("appId")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的appId"},model:{value:e.query.appId,callback:function(t){e.$set(e.query,"appId",t)},expression:"query.appId"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的app名称"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app包名")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的app包名"},model:{value:e.query.buildId,callback:function(t){e.$set(e.query,"buildId",t)},expression:"query.buildId"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchApp}},[e._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.page.data}},[a("el-table-column",{attrs:{prop:"appId",label:"appId"}}),a("el-table-column",{attrs:{prop:"name",label:"app名称"}}),a("el-table-column",{attrs:{prop:"buildId",label:"包名"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.icon,alt:"icon"}})]}}])}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isPublic?a("el-tag",{attrs:{type:"success"}},[e._v("公有")]):e._e(),0===t.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[e._v("自有")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"appType",label:"app类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.appType?a("el-tag",{attrs:{type:"success"}},[e._v("appstore")]):e._e(),2===t.row.appType?a("el-tag",{attrs:{type:"danger"}},[e._v("自定义")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"defaultSelect",label:"注册设备默认禁止app"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.defaultSelect?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e(),0===t.row.defaultSelect?a("el-tag",{attrs:{type:"danger"}},[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.addToDevice(t.row)}}},[e._v("添加")])]}}])})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":e.page.page,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),a("el-dialog",{attrs:{title:"修改APP",visible:e.update.localDialogVisible,width:"30%","before-close":e.closeDialog}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("注册设备默认禁止app")]),a("el-select",{attrs:{clearable:"",placeholder:"注册设备默认禁止app"},model:{value:e.update.defaultSelect.value,callback:function(t){e.$set(e.update.defaultSelect,"value",t)},expression:"update.defaultSelect.value"}},e._l(e.update.defaultSelect.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.updateApp(e.update,!0)}}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"添加APP",visible:e.add.dig,width:"30%","before-close":function(){e.add.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app类型")]),a("el-select",{attrs:{clearable:"",placeholder:"app类型"},model:{value:e.add.appType.value,callback:function(t){e.$set(e.add.appType,"value",t)},expression:"add.appType.value"}},e._l(e.add.appType.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),2===e.add.appType.value&&""!==e.add.appType.value?a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"app名称"},model:{value:e.add.name,callback:function(t){e.$set(e.add,"name",t)},expression:"add.name"}})],1):e._e(),2===e.add.appType.value&&""!==e.add.appType.value?a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app包名")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"app包名"},model:{value:e.add.buildId,callback:function(t){e.$set(e.add,"buildId",t)},expression:"add.buildId"}})],1):e._e(),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("注册设备默认禁止app")]),a("el-select",{attrs:{clearable:"",placeholder:"注册设备默认禁止app"},model:{value:e.add.defaultSelect.value,callback:function(t){e.$set(e.add.defaultSelect,"value",t)},expression:"add.defaultSelect.value"}},e._l(e.add.defaultSelect.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.add.appType.value&&""!==e.add.appType.value?a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("appstore链接")]),a("el-input",{staticStyle:{width:"300px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"appstore链接"},model:{value:e.add.appstoreUrl,callback:function(t){e.$set(e.add,"appstoreUrl",t)},expression:"add.appstoreUrl"}})],1):e._e(),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addApp(!0)}}},[e._v("保存")])],1)])],1)}),M=[],k=a("b562"),L={components:{getList:k["b"],remove:k["c"],update:k["d"],add:k["a"]},created:function(){i=this,console.log("创建"),i.getAppList()},props:{device:{type:Object,default:function(){return{}}}},methods:{addToDevice:function(e){this.$emit("addToDevice",e)},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),i.page.pageSize=e,i.page.page=1,i.getAppList()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),i.page.page=e,i.getAppList()},getAppList:function(){Object(k["b"])(i.page,i.query).then((function(e){i.page=e.data}))},searchApp:function(){this.page.page=1,Object(k["b"])(i.page,i.query).then((function(e){i.page=e.data}))},removeApp:function(e){Object(k["c"])({appId:e}).then((function(e){i.getAppList()}))},updateApp:function(e,t){t?(console.log("保存",e),Object(k["d"])({appId:this.update.appId,defaultSelect:this.update.defaultSelect.value}).then((function(e){i.$msg("保存成功",1),i.getAppList()})),i.update.localDialogVisible=!1):(i.update.appId=e.appId,i.update.defaultSelect.value=e.defaultSelect,i.update.localDialogVisible=!0)},closeDialog:function(){this.localDialogVisible=!1},addApp:function(e){e?(Object(k["a"])({appType:i.add.appType.value,name:i.add.buildId,buildId:i.add.buildId,appstoreUrl:i.add.appstoreUrl,defaultSelect:i.add.defaultSelect.value}).then((function(e){i.$msg("添加成功",1),i.getAppList()})),i.add.dig=!1):i.add.dig=!0}},data:function(){return{page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{name:"",buildId:"",appId:""},update:{localDialogVisible:!1,appId:"",defaultSelect:{tab:[{value:0,label:"否"},{value:1,label:"是"}],value:""}},add:{dig:!1,appType:{tab:[{value:1,label:"appstore"},{value:2,label:"自定义"}],value:""},name:"",buildId:"",appstoreUrl:"",defaultSelect:{tab:[{value:0,label:"否"},{value:1,label:"是"}],value:""}}}}},O=L,j=Object(I["a"])(O,A,M,!1,null,"3270ef86",null),C=j.exports,$={components:{AppList:C,updateAccessAppAuth:h["y"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:this.info}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e))}}},created:function(){console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo)},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},addToDevice:function(e){for(var t=0;t<this.localInfo.authAppList.length;t++)if(this.localInfo.authAppList[t].appId===e.appId)return;this.localInfo.authAppList.push(e)},save:function(){var e=this;console.log("保存数据",this.info);for(var t={deviceId:this.localInfo.deviceId,accessAppType:this.localInfo.deviceMdm.accessAppType,appIdList:[],isWait:1},a=0;a<this.localInfo.authAppList.length;a++)t.appIdList.push(this.localInfo.authAppList[a].appId);console.log("j",t),Object(h["y"])(t).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))},saveNoWait:function(){var e=this;console.log("保存数据",this.info);for(var t={deviceId:this.localInfo.deviceId,accessAppType:this.localInfo.deviceMdm.accessAppType,appIdList:[],isWait:0},a=0;a<this.localInfo.authAppList.length;a++)t.appIdList.push(this.localInfo.authAppList[a].appId);console.log("j",t),Object(h["y"])(t).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))},remove:function(e){this.localInfo.authAppList=this.localInfo.authAppList.filter((function(t){return t.appId!==e})),console.log("子组件保存数据",this.localInfo)}}},T=$,W=Object(I["a"])(T,x,S,!1,null,null,null),V=W.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[e._v("默认勾选为已下发策略")])]),e._l(e.localInfo.authList,(function(t,n){return a("div",{staticStyle:{"margin-top":"20px"}},[1===t.isShow?a("el-checkbox",{attrs:{label:t.authName},on:{change:e.up},model:{value:t.isCheckd,callback:function(a){e.$set(t,"isCheckd",a)},expression:"item.isCheckd"}}):e._e()],1)})),a("div",[e.checkAuth("deviceInfo.updateAccessAuth")?a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("保存并应用")]):e._e(),e.checkAuth("deviceInfo.updateAccessAuth")?a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.saveNoWait}},[e._v("保存并应用: 异步")]):e._e()],1)],2)],1)},D=[],U={components:{updateAccessAuth:h["z"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:""}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e));for(var t=0;t<this.localInfo.authList.length;t++)1===this.localInfo.authList[t].isOpen?this.$set(this.localInfo.authList[t],"isCheckd",!0):this.$set(this.localInfo.authList[t],"isCheckd",!1);console.log("触发1",this.localInfo)}}},created:function(){this,console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo);for(var e=0;e<this.localInfo.authList.length;e++)1===this.localInfo.authList[e].isOpen?this.$set(this.localInfo.authList[e],"isCheckd",!0):this.$set(this.localInfo.authList[e],"isCheckd",!1)},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},save:function(){var e=this;console.log("保存数据",this.info);for(var t={deviceId:this.localInfo.deviceId,authIdList:[],isWait:1},a=0;a<this.localInfo.authList.length;a++)this.localInfo.authList[a].isCheckd&&t.authIdList.push(this.localInfo.authList[a].authId);Object(h["z"])(t).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),e.$msg("保存成功",1)}))},saveNoWait:function(){var e=this;console.log("保存数据",this.info);for(var t={deviceId:this.localInfo.deviceId,authIdList:[],isWait:0},a=0;a<this.localInfo.authList.length;a++)this.localInfo.authList[a].isCheckd&&t.authIdList.push(this.localInfo.authList[a].authId);Object(h["z"])(t).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),e.$msg("保存成功",1)}))}}},P=U,z=Object(I["a"])(P,N,D,!1,null,null,null),B=z.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("span",{staticStyle:{"font-weight":"bold",color:"red"}},[e._v("此功能为设置IOS锁屏底部的消息")])]),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("锁屏前置消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"锁屏前置消息"},model:{value:e.localInfo.deviceMdm.lockMsgBefore,callback:function(t){e.$set(e.localInfo.deviceMdm,"lockMsgBefore",t)},expression:"localInfo.deviceMdm.lockMsgBefore"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("锁屏后置消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"锁屏后置消息"},model:{value:e.localInfo.deviceMdm.lockMsgAfter,callback:function(t){e.$set(e.localInfo.deviceMdm,"lockMsgAfter",t)},expression:"localInfo.deviceMdm.lockMsgAfter"}})],1),a("div",[e.checkAuth("deviceInfo.lockMsgUpdate")&&0===e.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.save(1)}}},[e._v("开启锁屏消息")]):e._e(),e.checkAuth("deviceInfo.lockMsgUpdate")&&1===e.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(t){return e.save(0)}}},[e._v("关闭锁屏消息")]):e._e(),e.checkAuth("deviceInfo.lockMsgUpdate")&&0===e.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.saveNoWait(1)}}},[e._v("开启锁屏消息: 异步")]):e._e(),e.checkAuth("deviceInfo.lockMsgUpdate")&&1===e.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(t){return e.saveNoWait(0)}}},[e._v("关闭锁屏消息: 异步")]):e._e()],1)])],1)},J=[],q={components:{lockMsgUpdate:h["t"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:this.info}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e))}}},created:function(){this,console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo)},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},save:function(e){var t=this;console.log("保存数据",this.info);var a={deviceId:this.localInfo.deviceId,beforeMsg:this.localInfo.deviceMdm.lockMsgBefore,afterMsg:this.localInfo.deviceMdm.lockMsgAfter,status:e,isWait:1};Object(h["t"])(a).then((function(a){console.log(a),t.localInfo.deviceMdm.lockMsgStatus=e,t.$emit("updateInfo",t.localInfo),t.$msg("操作成功",1)}))},saveNoWait:function(e){var t=this;console.log("保存数据",this.info);var a={deviceId:this.localInfo.deviceId,beforeMsg:this.localInfo.deviceMdm.lockMsgBefore,afterMsg:this.localInfo.deviceMdm.lockMsgAfter,status:e,isWait:0};Object(h["t"])(a).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),t.$msg("操作成功",1)}))}}},F=q,R=Object(I["a"])(F,E,J,!1,null,null,null),G=R.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-radio-group",{model:{value:e.localInfo.deviceMdm.wallpaperType,callback:function(t){e.$set(e.localInfo.deviceMdm,"wallpaperType",t)},expression:"localInfo.deviceMdm.wallpaperType"}},[a("el-radio",{attrs:{label:1}},[e._v("仅锁屏")]),a("el-radio",{attrs:{label:2}},[e._v("仅主屏")]),a("el-radio",{attrs:{label:3}},[e._v("锁屏与主屏幕")])],1),e.checkAuth("deviceInfo.setWp")?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("保存并应用")]):e._e(),e.checkAuth("deviceInfo.setWp")?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.saveNoWait}},[e._v("保存并应用: 异步")]):e._e(),a("div",{staticStyle:{"margin-top":"50px","margin-left":"10px"}},[a("el-card",{staticStyle:{"max-width":"30%","margin-top":"20px","margin-left":"20px","text-align":"center"}},[a("span",{staticStyle:{"font-weight":"bold",color:"red"}},[e._v("当前壁纸: "+e._s(e.localInfo.deviceMdm.wpName))]),a("div",{staticStyle:{"margin-top":"20px",width:"300px",height:"500px"}},[a("img",{attrs:{src:e.localInfo.deviceMdm.wpUrl}})])])],1)],1),a("WpList",{on:{selectWp:e.selectWp}})],1)],1)},K=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("壁纸Id")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的壁纸Id"},model:{value:e.query.wpId,callback:function(t){e.$set(e.query,"wpId",t)},expression:"query.wpId"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("壁纸名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的壁纸名称"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchWp}},[e._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.page.data}},[a("el-table-column",{attrs:{prop:"wpId",label:"壁纸id",width:"280"}}),a("el-table-column",{attrs:{prop:"name",label:"壁纸名称",width:"280"}}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isPublic?a("el-tag",{attrs:{type:"success"}},[e._v("公有")]):e._e(),0===t.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[e._v("自有")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"wpUrl",label:"壁纸",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"zoom-icon",staticStyle:{width:"30px",height:"30px"},attrs:{src:t.row.wpUrl+"?time="+(new Date).getTime(),alt:"icon"},on:{click:function(a){e.bigWp(t.row.wpUrl+"?time="+(new Date).getTime())}}})]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.selectWp(t.row)}}},[e._v("选择")])]}}])})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":e.page.page,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),a("el-dialog",{attrs:{title:"修改壁纸",visible:e.update.localDialogVisible,width:"30%","before-close":e.closeDialog}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("壁纸名称")]),a("div",[a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"壁纸名称"},model:{value:e.update.name,callback:function(t){e.$set(e.update,"name",t)},expression:"update.name"}})],1),a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("壁纸文件")]),a("div",[a("input",{ref:"updateFileInput",staticStyle:{"margin-top":"10px"},attrs:{type:"file",accept:"image/png"},on:{change:e.handleFileChange}})]),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.updateWp(null,!0)}}},[e._v("确认修改")])],1),a("el-dialog",{attrs:{title:"新增壁纸",visible:e.add.dig,width:"30%","before-close":function(){e.add.dig=!1}}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("壁纸名称")]),a("div",[a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"壁纸名称"},model:{value:e.add.name,callback:function(t){e.$set(e.add,"name",t)},expression:"add.name"}})],1),a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("壁纸文件")]),a("div",[a("input",{ref:"addFileInput",staticStyle:{"margin-top":"10px"},attrs:{type:"file",accept:"image/png"},on:{change:e.handleFileChangeAdd}})]),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.addWp(!0)}}},[e._v("保存")])],1),a("el-dialog",{staticStyle:{width:"1080px",height:"1920px","margin-left":"200px"},attrs:{title:"图片",visible:e.wpTempDig,width:"30%","before-close":e.closeWpDialog}},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.wpTemp,alt:"icon"}})])],1)},X=[],Y=a("f926"),Z={computed:{fa:function(){return g["a"]}},components:{getListApi:Y["b"],removeApi:Y["c"],updateApi:Y["d"],addApi:Y["a"]},created:function(){o=this,console.log("创建"),o.getWpList()},methods:{selectWp:function(e){console.log("选择",e),this.$emit("selectWp",e)},handleFileChange:function(e){var t=this,a=e.target.files[0];if(a){var n=new FileReader;n.readAsDataURL(a),n.onload=function(){console.log("处罚回调"),t.update.wpBase64=n.result.split(",")[1],console.log(t.update.wpBase64)}}},handleFileChangeAdd:function(e){var t=this,a=e.target.files[0];if(a){var n=new FileReader;n.readAsDataURL(a),n.onload=function(){console.log("处罚回调"),t.add.wpBase64=n.result.split(",")[1],console.log(t.update.wpBase64)}}},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),o.page.pageSize=e,o.page.page=1,o.getWpList()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),o.page.page=e,o.getWpList()},getWpList:function(){Object(Y["b"])(o.page,o.query).then((function(e){o.page=e.data}))},searchWp:function(){this.page.page=1,Object(Y["b"])(o.page,o.query).then((function(e){o.page=e.data}))},bigWp:function(e){this.wpTempDig=!0,this.wpTemp=e},removeWp:function(e){Object(Y["c"])({wpId:e}).then((function(e){o.getWpList()}))},updateWp:function(e,t){t?(console.log("保存",o.update.wpId),Object(Y["d"])({wpId:o.update.wpId,name:o.update.name,wpBase64:o.update.wpBase64}).then((function(e){o.$msg("修改成功",1),o.getWpList()})),o.update.localDialogVisible=!1):("updateFileInput"in this.$refs&&"value"in this.$refs.updateFileInput&&(this.$refs.updateFileInput.value=""),o.update.wpId=e.wpId,o.update.name=e.name,o.update.wpBase64="",o.update.localDialogVisible=!0)},closeDialog:function(){this.update.localDialogVisible=!1},closeWpDialog:function(){this.wpTempDig=!1},addWp:function(e){e?Object(Y["a"])({name:o.add.name,wpBase64:o.add.wpBase64}).then((function(e){o.$msg("添加成功",1),o.getWpList(),o.add.dig=!1})):(console.log(this.$refs.addFileInput),"addFileInput"in this.$refs&&"value"in this.$refs.addFileInput&&(this.$refs.addFileInput.value=""),o.add.dig=!0)}},data:function(){return{page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{name:"",wpId:""},update:{localDialogVisible:!1,wpId:"",name:"",wpBase64:""},add:{dig:!1,name:"",wpBase64:""},wpTempDig:!1,wpTemp:""}}},ee=Z,te=Object(I["a"])(ee,Q,X,!1,null,"64fb55f0",null),ae=te.exports,ne={components:{WpList:ae,setWpApi:h["w"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:this.info}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e))}}},created:function(){console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo)},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},selectWp:function(e){console.log("选择wp",e),this.localInfo.deviceMdm.wpUrl=e.wpUrl,this.localInfo.deviceMdm.wallpaperId=e.wpId,this.localInfo.deviceMdm.wpName=e.name},save:function(){var e=this;console.log("保存数据",this.info);var t={deviceId:this.localInfo.deviceId,wpId:this.localInfo.deviceMdm.wallpaperId,type:this.localInfo.deviceMdm.wallpaperType,isWait:1};Object(h["w"])(t).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))},saveNoWait:function(){var e=this;console.log("保存数据",this.info);var t={deviceId:this.localInfo.deviceId,wpId:this.localInfo.deviceMdm.wallpaperId,type:this.localInfo.deviceMdm.wallpaperType,isWait:0};Object(h["w"])(t).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))}}},ie=ne,oe=Object(I["a"])(ie,H,K,!1,null,null,null),se=oe.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("操作命令")]),a("el-input",{staticStyle:{width:"200px","margin-right":"40px","margin-bottom":"20px"},attrs:{placeholder:"请输入操作命令"},model:{value:e.query.taskName,callback:function(t){e.$set(e.query,"taskName",t)},expression:"query.taskName"}}),a("span",{staticStyle:{"margin-right":"10px"}},[e._v("设备检测")]),a("el-switch",{staticStyle:{"margin-right":"30px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.query.isCheckInfo,callback:function(t){e.$set(e.query,"isCheckInfo",t)},expression:"query.isCheckInfo"}}),e.checkAuth("task.search")?a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchTask}},[e._v("搜索")]):e._e()],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.page.data}},[a("el-table-column",{attrs:{prop:"taskId",label:"任务id",width:"250"}}),a("el-table-column",{attrs:{prop:"account",label:"操作账号",width:"250"}}),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",width:"250"}}),a("el-table-column",{attrs:{prop:"taskStatus",label:"操作状态",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.taskStatus?a("el-tag",{attrs:{type:"warning"}},[e._v("等待执行")]):e._e(),1===t.row.taskStatus?a("el-tag",{attrs:{type:"warning"}},[e._v("唤醒已发送")]):e._e(),2===t.row.taskStatus?a("el-tag",{attrs:{type:"warning"}},[e._v("命令已发送")]):e._e(),3===t.row.taskStatus?a("el-tag",{attrs:{type:"success"}},[e._v("命令执行成功")]):e._e(),4===t.row.taskStatus?a("el-tag",{attrs:{type:"error"}},[e._v("命令执行失败")]):e._e(),5===t.row.taskStatus?a("el-tag",{attrs:{type:"error"}},[e._v("设备忙等待重试")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"操作时间",width:"250"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":e.page.page,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)],1)},ce=[],re={components:{taskListApi:h["x"]},created:function(){s=this,console.log("创建"),this.localInfo=JSON.parse(JSON.stringify(this.info)),s.getListApi()},props:{info:{type:Object,default:function(){return{}}}},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),s.page.pageSize=e,s.page.page=1,s.getListApi()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),s.page.page=e,s.getListApi()},getListApi:function(){s.query.deviceId=this.localInfo.deviceId,Object(h["x"])(s.page,s.query).then((function(e){s.page=e.data}))},searchTask:function(){this.page.page=1,s.query.deviceId=this.localInfo.deviceId,Object(h["x"])(s.page,s.query).then((function(e){s.page=e.data}))}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e))}}},data:function(){return{localInfo:this.info,page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{taskName:"",deviceId:"",isCheckInfo:!1},update:{localDialogVisible:!1,wpId:"",name:"",wpBase64:""},add:{dig:!1,name:"",wpBase64:""},wpTempDig:!1,wpTemp:""}}},pe=re,de=Object(I["a"])(pe,le,ce,!1,null,"1bc593ec",null),ue=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.checkAuth("deviceInfo.getLocation")?a("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("获取定位")]):e._e(),e.lng?a("p",{staticStyle:{"margin-top":"20px"}},[e._v("经度: "+e._s(e.lng))]):e._e(),e.lng?a("p",[e._v("纬度: "+e._s(e.lat))]):e._e(),e.lng?a("p",[e._v("地址: "+e._s(e.addr))]):e._e(),a("div",{staticStyle:{height:"700px","margin-top":"20px"},attrs:{id:"container"}})],1)},ge=[],he=(a("d81d"),a("862d")),ve=a.n(he),me={name:"map-view",components:{getLocationApi:h["s"]},created:function(){l=this,console.log("map页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info))},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:"",map:null,geocoder:null,lat:"",lng:"",addr:""}},watch:{info:{deep:!0,handler:function(e){this.localInfo=JSON.parse(JSON.stringify(e))}}},mounted:function(){},unmounted:function(){this.map&&this.map.destroy()},methods:{checkAuth:function(e){if(3===this.$store.state.user.userInfo.user.userType){console.log("员工账号");for(var t=this.$store.state.user.userInfo.user.userAuth.authList,a=0;a<t.length;a++){var n=t[a];if(n.authId===e)return!0}return!1}return!0},convertBak:function(e,t){var a=[e,t];AMap.convertFrom(a,"gps",(function(e,t){if("ok"===t.info){var a=t.locations[0];console.log("转换后坐标",a.lat,a.lng),l.lat=a.lat,l.lng=a.lng,l.geocoder?console.log("zai"):console.log("bu"),l.geocoder.getAddress([a.lng,a.lat],(function(e,t){if("complete"===e&&"OK"===t.info){console.log("获取地址成功");var n=t.regeocode.formattedAddress;console.log("地理位置",t),console.log(n),l.addr=n,l.map.setCenter([a.lng,a.lat]),console.log("切换中心点成功"),l.map.clearMap();var i=new AMap.Marker({position:[a.lng,a.lat],map:l.map});l.map.add(i),console.log("设置标记点成功")}else console.log("获取地址失败")}))}}))},update:function(){Object(h["s"])(this.localInfo.deviceId).then((function(e){console.log("获取定位成功",e.data),l.convertBak(e.data.longitude,e.data.latitude)})).catch((function(e){console.log(e)}))},initAMap:function(e,t){window._AMapSecurityConfig={serviceHost:"https://mdm.ppgjx.com/_AMapService"},ve.a.load({key:"bd8433948da1eff2231e0bef0662e91c",version:"2.0",plugins:["AMap.Scale","AMap.Geocoder"]}).then((function(a){console.log("地图初始化成功"),l.map=new a.Map("container",{viewMode:"3D",zoom:11,center:[e,t]}),console.log("地图初始化成功1"),l.geocoder=new a.Geocoder({city:"010"}),console.log("地图初始化成功2");var n=new a.Marker({position:[e,t],map:l.map});l.map.add(n)})).catch((function(e){console.log("地图初始化失败"),console.log(e)}))}}},be=me,ye=(a("c252"),Object(I["a"])(be,fe,ge,!1,null,"6aefc004",null)),Ie=ye.exports,_e={components:{DeviceInfo:w,getInfo:h["q"],LockMsg:G,AuthAppList:V,updateAccessAppAuth:h["y"],AuthList:B,WpList:se,TaskList:ue,DeviceMap:Ie},created:function(){c=this,c.deviceId=this.$route.query.deviceId,console.log("Serial Number:",c.deviceId),Object(h["q"])({deviceId:c.deviceId}).then((function(e){c.info=e.data}))},methods:{updateInfo:function(){console.log("收到更新"),Object(h["q"])({deviceId:c.deviceId}).then((function(e){c.info=e.data}))},handleClick:function(e,t){console.log("切换",e.name),"taskRecord"===e.name&&(console.log("切换到操作记录"),this.$refs.childComponent.getListApi()),"deviceMap"===e.name&&(console.log("切换到设备定位"),this.$refs.childComponentMap.initAMap(116,36))},handleUpdateInfo:function(e){this.info=e,console.log("Updated Info:",e)},handleAuthAppList:function(e){this.info=e},handleAuthList:function(e){this.info=e}},data:function(){return{activeName:"deviceInfo",deviceId:"",info:{}}}},we=_e,xe=Object(I["a"])(we,r,p,!1,null,"038aef33",null);t["default"]=xe.exports},c252:function(e,t,a){"use strict";a("72d2")},e9c4:function(e,t,a){var n=a("23e7"),i=a("d066"),o=a("d039"),s=i("JSON","stringify"),l=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,r=/^[\uDC00-\uDFFF]$/,p=function(e,t,a){var n=a.charAt(t-1),i=a.charAt(t+1);return c.test(e)&&!r.test(i)||r.test(e)&&!c.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},d=o((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&n({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,a){var n=s.apply(null,arguments);return"string"==typeof n?n.replace(l,p):n}})},f926:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l}));a("b0c0");var n=a("b775");function i(e,t){var a="";return""!==t.wpId&&(a=a+"&wpId="+t.wpId),""!==t.name&&(a=a+"&name="+t.name),Object(n["a"])({url:"/wallpaper/search?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function o(e){return Object(n["a"])({url:"/wallpaper/delete",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/wallpaper/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/wallpaper/add",method:"post",data:e})}}}]);