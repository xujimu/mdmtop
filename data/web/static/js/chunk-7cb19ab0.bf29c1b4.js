(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cb19ab0"],{"0d09":function(e,t,a){},"2bb9":function(e,t,a){"use strict";a("0d09")},b562:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return o}));a("b0c0");var l=a("b775");function p(e,t){var a="";return""!==t.name&&(a=a+"&name="+t.name),""!==t.buildId&&(a=a+"&buildId="+t.buildId),""!==t.appId&&(a=a+"&appId="+t.appId),Object(l["a"])({url:"/accessAppList/search?page="+e.page+"&pageSize="+e.pageSize+a,method:"get"})}function i(e){return Object(l["a"])({url:"/accessAppList/delete",method:"post",data:e})}function n(e){return Object(l["a"])({url:"/accessAppList/update",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/accessAppList/add",method:"post",data:e})}},d425:function(e,t,a){"use strict";a.r(t);var l,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AppList")],1)},i=[],n=a("5530"),o=a("2f62"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("appId")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的appId"},model:{value:e.query.appId,callback:function(t){e.$set(e.query,"appId",t)},expression:"query.appId"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的app名称"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app包名")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的app包名"},model:{value:e.query.buildId,callback:function(t){e.$set(e.query,"buildId",t)},expression:"query.buildId"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchApp}},[e._v("搜索")]),a("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(t){return e.addApp(!1)}}},[e._v("新增")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.page.data}},[a("el-table-column",{attrs:{prop:"appId",label:"appId",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"app名称",width:"180"}}),a("el-table-column",{attrs:{prop:"buildId",label:"包名",width:"180"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.icon,alt:"icon"}})]}}])}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isPublic?a("el-tag",{attrs:{type:"success"}},[e._v("公有")]):e._e(),0===t.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[e._v("自有")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"appType",label:"app类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.appType?a("el-tag",{attrs:{type:"success"}},[e._v("appstore")]):e._e(),2===t.row.appType?a("el-tag",{attrs:{type:"danger"}},[e._v("自定义")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"defaultSelect",label:"注册设备默认禁止app",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.defaultSelect?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e(),0===t.row.defaultSelect?a("el-tag",{attrs:{type:"danger"}},[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.checkIsShow(t.row)?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.removeApp(t.row.appId)}}},[e._v("删除")]):e._e(),e.checkIsShow(t.row)?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.updateApp(t.row,!1)}}},[e._v("修改")]):e._e()]}}])})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":e.page.page,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),a("el-dialog",{attrs:{title:"修改APP",visible:e.update.localDialogVisible,width:"30%","before-close":e.closeDialog}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("注册设备默认禁止app")]),a("el-select",{attrs:{clearable:"",placeholder:"注册设备默认禁止app"},model:{value:e.update.defaultSelect.value,callback:function(t){e.$set(e.update.defaultSelect,"value",t)},expression:"update.defaultSelect.value"}},e._l(e.update.defaultSelect.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.updateApp(e.update,!0)}}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"添加APP",visible:e.add.dig,width:"30%","before-close":function(){e.add.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app类型")]),a("el-select",{attrs:{clearable:"",placeholder:"app类型"},model:{value:e.add.appType.value,callback:function(t){e.$set(e.add.appType,"value",t)},expression:"add.appType.value"}},e._l(e.add.appType.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),2===e.add.appType.value&&""!==e.add.appType.value?a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"app名称"},model:{value:e.add.name,callback:function(t){e.$set(e.add,"name",t)},expression:"add.name"}})],1):e._e(),2===e.add.appType.value&&""!==e.add.appType.value?a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("app包名")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"app包名"},model:{value:e.add.buildId,callback:function(t){e.$set(e.add,"buildId",t)},expression:"add.buildId"}})],1):e._e(),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("注册设备默认禁止app")]),a("el-select",{attrs:{clearable:"",placeholder:"注册设备默认禁止app"},model:{value:e.add.defaultSelect.value,callback:function(t){e.$set(e.add.defaultSelect,"value",t)},expression:"add.defaultSelect.value"}},e._l(e.add.defaultSelect.tab,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.add.appType.value&&""!==e.add.appType.value?a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[e._v("appstore链接")]),a("el-input",{staticStyle:{width:"300px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"appstore链接"},model:{value:e.add.appstoreUrl,callback:function(t){e.$set(e.add,"appstoreUrl",t)},expression:"add.appstoreUrl"}})],1):e._e(),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addApp(!0)}}},[e._v("保存")])],1)])],1)},c=[],s=a("b562"),r={computed:Object(n["a"])({},Object(o["c"])({userInfo:function(e){return e.user.userInfo.user}})),components:{getList:s["b"],remove:s["c"],update:s["d"],add:s["a"]},created:function(){l=this,console.log("创建"),l.getAppList()},methods:{checkIsShow:function(e){return console.log(e),e.userId===this.userInfo.userId},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),l.page.pageSize=e,l.page.page=1,l.getAppList()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),l.page.page=e,l.getAppList()},getAppList:function(){Object(s["b"])(l.page,l.query).then((function(e){l.page=e.data}))},searchApp:function(){this.page.page=1,Object(s["b"])(l.page,l.query).then((function(e){l.page=e.data}))},removeApp:function(e){Object(s["c"])({appId:e}).then((function(e){l.getAppList()}))},updateApp:function(e,t){t?(console.log("保存",e),Object(s["d"])({appId:this.update.appId,defaultSelect:this.update.defaultSelect.value}).then((function(e){l.$msg("保存成功",1),l.getAppList()})),l.update.localDialogVisible=!1):(l.update.appId=e.appId,l.update.defaultSelect.value=e.defaultSelect,l.update.localDialogVisible=!0)},closeDialog:function(){this.localDialogVisible=!1},addApp:function(e){e?(Object(s["a"])({appType:l.add.appType.value,name:l.add.buildId,buildId:l.add.buildId,appstoreUrl:l.add.appstoreUrl,defaultSelect:l.add.defaultSelect.value}).then((function(e){l.$msg("添加成功",1),l.getAppList()})),l.add.dig=!1):l.add.dig=!0}},data:function(){return{page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{name:"",buildId:"",appId:""},update:{localDialogVisible:!1,appId:"",defaultSelect:{tab:[{value:0,label:"否"},{value:1,label:"是"}],value:""}},add:{dig:!1,appType:{tab:[{value:1,label:"appstore"},{value:2,label:"自定义"}],value:""},name:"",buildId:"",appstoreUrl:"",defaultSelect:{tab:[{value:0,label:"否"},{value:1,label:"是"}],value:""}}}}},u=r,b=a("2877"),g=Object(b["a"])(u,d,c,!1,null,"1433e913",null),f=g.exports,m={components:{AppList:f},props:{},name:"UpdatePassword",computed:Object(n["a"])({},Object(o["c"])({userInfo:function(e){return e.user.userInfo.user}})),data:function(){return{localInfo:{}}},created:function(){this},methods:{getDeviceAppList:function(){}}},v=m,h=(a("2bb9"),Object(b["a"])(v,p,i,!1,null,"2b664408",null));t["default"]=h.exports}}]);