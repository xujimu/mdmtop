(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1d82"],{"7bbc":function(t,e,a){"use strict";a.r(e);var l,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold","margin-left":"0px"}},[t._v("用户id")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"用户id"},model:{value:t.query.userId,callback:function(e){t.$set(t.query,"userId",e)},expression:"query.userId"}})],1),a("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("流水类型")]),a("el-select",{attrs:{clearable:"",placeholder:"流水类型"},model:{value:t.query.type,callback:function(e){t.$set(t.query,"type",e)},expression:"query.type"}},t._l(t.type.tab,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchData}},[t._v("搜索")])],1)]),a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:t.page.data}},[a("el-table-column",{attrs:{prop:"flowId",label:"流水id"}}),a("el-table-column",{attrs:{prop:"userId",label:"用户id"}}),a("el-table-column",{attrs:{prop:"type",label:"流水类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.type?a("el-tag",{attrs:{type:"success"}},[t._v("收入")]):t._e(),0===e.row.type?a("el-tag",{attrs:{type:"danger"}},[t._v("支出")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"beforeAmount",label:"操作前数量"}}),a("el-table-column",{attrs:{prop:"amount",label:"设备数量"}}),a("el-table-column",{attrs:{prop:"afterAmount",label:"操作后数量"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{prop:"createTime",label:"进行时间"}})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":t.page.page,"page-sizes":[5,10,20,50],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),a("el-dialog",{attrs:{title:"修改",visible:t.updateDataVar.dig,width:"30%","before-close":function(){t.updateDataVar.dig=!1}},on:{"update:visible":function(e){return t.$set(t.updateDataVar,"dig",e)}}},[a("p"),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData(null,!1)}}},[t._v("确认修改")])],1),a("el-dialog",{attrs:{title:"新增",visible:t.addDataVar.dig,width:"30%","before-close":function(){t.addDataVar.dig=!1}},on:{"update:visible":function(e){return t.$set(t.addDataVar,"dig",e)}}},[a("p"),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addData(!1)}}},[t._v("保存")])],1)],1)},n=[],i=a("b775");function o(t,e){var a="";return""!==e.userId&&(a=a+"&userId="+e.userId),""!==e.type&&(a=a+"&type="+e.type),Object(i["a"])({url:"/admin/searchUserFlow?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function d(t){return Object(i["a"])({url:"/userAmountFlow/add",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/userAmountFlow/update",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/userAmountFlow/delete",method:"post",data:t})}var c={computed:{},components:{searchDataApi:o,updateDataApi:p,deleteDataApi:u,addDataApi:d},created:function(){l=this,console.log("创建"),l.searchData()},methods:{handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),l.page.pageSize=t,l.searchData()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),l.page.page=t,l.searchData()},searchData:function(){o(l.page,l.query).then((function(t){l.page=t.data}))},deleteData:function(t){l.deleteDataVar.flowId=t,u(l.deleteDataVar).then((function(t){l.searchData()}))},addData:function(t){t?l.addDataVar.dig=!0:d(l.addDataVar).then((function(t){l.addDataVar.dig=!1,l.searchData()}))},updateData:function(t,e){e?(l.updateDataVar.dig=!0,l.updateDataVar.flowId=t.flowId):p(l.updateDataVar).then((function(t){l.updateDataVar.dig=!1,l.searchData()}))}},data:function(){return{page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},addDataVar:{dig:!1},updateDataVar:{dig:!1,flowId:""},query:{flowId:"",userId:"",type:"",amount:"",afterAmount:"",remark:"",createTime:"",beforeAmount:""},deleteDataVar:{flowId:""},type:{tab:[{value:1,label:"收入"},{value:0,label:"支出"}],value:""}}}},s=c,g=a("2877"),b=Object(g["a"])(s,r,n,!1,null,"8b066c42",null);e["default"]=b.exports}}]);