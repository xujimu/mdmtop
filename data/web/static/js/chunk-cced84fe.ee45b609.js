(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cced84fe"],{2095:function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return c}));var n=a("b775");function i(t,e){var a="";return""!==e.lostName&&(a=a+"&lostName="+e.lostName),Object(n["a"])({url:"/lostMsgList/search?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function o(t){return Object(n["a"])({url:"/lostMsgList/addLost",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/lostMsgList/updateLost",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/lostMsgList/deleteLost",method:"post",data:t})}function c(){return Object(n["a"])({url:"/lostMsgList/getMyLostList",method:"get"})}},"862d":function(t,e,a){"use strict";(function(e,a){t.exports=a()})(0,(function(){function t(t){var n=[];return t.AMapUI&&n.push(e(t.AMapUI)),t.Loca&&n.push(a(t.Loca)),Promise.all(n)}function e(t){return new Promise((function(e,a){var s=[];if(t.plugins)for(var c=0;c<t.plugins.length;c+=1)-1==i.AMapUI.plugins.indexOf(t.plugins[c])&&s.push(t.plugins[c]);if(o.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(o.AMapUI===n.notload){o.AMapUI=n.loading,i.AMapUI.version=t.version||i.AMapUI.version,c=i.AMapUI.version;var r=document.body||document.head,p=document.createElement("script");p.type="text/javascript",p.src="https://webapi.amap.com/ui/"+c+"/main.js",p.onerror=function(t){o.AMapUI=n.failed,a("请求 AMapUI 失败")},p.onload=function(){if(o.AMapUI=n.loaded,s.length)window.AMapUI.loadUI(s,(function(){for(var t=0,a=s.length;t<a;t++){var n=s[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}for(e();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()}));else for(e();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},r.appendChild(p)}else o.AMapUI===n.loaded?t.version&&t.version!==i.AMapUI.version?a("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,(function(){for(var t=0,a=s.length;t<a;t++){var n=s[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}e()})):e():t.version&&t.version!==i.AMapUI.version?a("不允许多个版本 AMapUI 混用"):l.AMapUI.push((function(t){t?a(t):s.length?window.AMapUI.loadUI(s,(function(){for(var t=0,a=s.length;t<a;t++){var n=s[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}e()})):e()}))}))}function a(t){return new Promise((function(e,a){if(o.Loca===n.failed)a("前次请求 Loca 失败");else if(o.Loca===n.notload){o.Loca=n.loading,i.Loca.version=t.version||i.Loca.version;var s=i.Loca.version,c=i.AMap.version.startsWith("2"),r=s.startsWith("2");if(c&&!r||!c&&r)a("JSAPI 与 Loca 版本不对应！！");else{c=i.key,r=document.body||document.head;var p=document.createElement("script");p.type="text/javascript",p.src="https://webapi.amap.com/loca?v="+s+"&key="+c,p.onerror=function(t){o.Loca=n.failed,a("请求 AMapUI 失败")},p.onload=function(){for(o.Loca=n.loaded,e();l.Loca.length;)l.Loca.splice(0,1)[0]()},r.appendChild(p)}}else o.Loca===n.loaded?t.version&&t.version!==i.Loca.version?a("不允许多个版本 Loca 混用"):e():t.version&&t.version!==i.Loca.version?a("不允许多个版本 Loca 混用"):l.Loca.push((function(t){t?a(t):a()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(t){t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed"})(n||(n={}));var i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},l={AMap:[],AMapUI:[],Loca:[]},s=[],c=function(t){"function"==typeof t&&(o.AMap===n.loaded?t(window.AMap):s.push(t))};return{load:function(e){return new Promise((function(a,l){if(o.AMap==n.failed)l("");else if(o.AMap==n.notload){var r=e.key,p=e.version,d=e.plugins;r?(window.AMap&&"lbs.amap.com"!==location.host&&l("禁止多种API加载方式混用"),i.key=r,i.AMap.version=p||i.AMap.version,i.AMap.plugins=d||i.AMap.plugins,o.AMap=n.loading,p=document.body||document.head,window.___onAPILoaded=function(i){if(delete window.___onAPILoaded,i)o.AMap=n.failed,l(i);else for(o.AMap=n.loaded,t(e).then((function(){a(window.AMap)}))["catch"](l);s.length;)s.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+i.AMap.version+"&key="+r+"&plugin="+i.AMap.plugins.join(","),d.onerror=function(t){o.AMap=n.failed,l(t)},p.appendChild(d)):l("请填写key")}else if(o.AMap==n.loaded)if(e.key&&e.key!==i.key)l("多个不一致的 key");else if(e.version&&e.version!==i.AMap.version)l("不允许多个版本 JSAPI 混用");else{if(r=[],e.plugins)for(p=0;p<e.plugins.length;p+=1)-1==i.AMap.plugins.indexOf(e.plugins[p])&&r.push(e.plugins[p]);r.length?window.AMap.plugin(r,(function(){t(e).then((function(){a(window.AMap)}))["catch"](l)})):t(e).then((function(){a(window.AMap)}))["catch"](l)}else if(e.key&&e.key!==i.key)l("多个不一致的 key");else if(e.version&&e.version!==i.AMap.version)l("不允许多个版本 JSAPI 混用");else{var u=[];if(e.plugins)for(p=0;p<e.plugins.length;p+=1)-1==i.AMap.plugins.indexOf(e.plugins[p])&&u.push(e.plugins[p]);c((function(){u.length?window.AMap.plugin(u,(function(){t(e).then((function(){a(window.AMap)}))["catch"](l)})):t(e).then((function(){a(window.AMap)}))["catch"](l)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},l={AMap:[],AMapUI:[],Loca:[]}}}}))},aa98:function(t,e,a){"use strict";a.d(e,"m",(function(){return c})),a.d(e,"p",(function(){return r})),a.d(e,"o",(function(){return p})),a.d(e,"k",(function(){return d})),a.d(e,"v",(function(){return u})),a.d(e,"w",(function(){return f})),a.d(e,"r",(function(){return g})),a.d(e,"t",(function(){return v})),a.d(e,"u",(function(){return m})),a.d(e,"h",(function(){return b})),a.d(e,"i",(function(){return y})),a.d(e,"s",(function(){return I})),a.d(e,"f",(function(){return _})),a.d(e,"e",(function(){return x})),a.d(e,"g",(function(){return M})),a.d(e,"a",(function(){return k})),a.d(e,"l",(function(){return O})),a.d(e,"b",(function(){return C})),a.d(e,"j",(function(){return $})),a.d(e,"y",(function(){return N})),a.d(e,"d",(function(){return W})),a.d(e,"c",(function(){return D})),a.d(e,"x",(function(){return P})),a.d(e,"z",(function(){return z})),a.d(e,"q",(function(){return E})),a.d(e,"n",(function(){return J}));var n=a("c7eb"),i=a("1da1"),o=(a("d3b7"),a("b775")),l=a("376d"),s=a("2b0e");function c(t,e){var a="";return""!==e.abmStatus.value&&(a=a+"&abmStatus="+e.abmStatus.value),""!==e.controlStatus.value&&(a=a+"&controlStatus="+e.controlStatus.value),""!==e.lostMode.value&&(a=a+"&lostMode="+e.lostMode.value),""!==e.activationLock.value&&(a=a+"&activationLock="+e.activationLock.value),""!==e.serialNumber&&(a=a+"&serialNumber="+e.serialNumber),""!==e.userId&&(a=a+"&userId="+e.userId),""!==e.noOnlineTime.value&&(a=a+"&noOnlineTime="+e.noOnlineTime.value),Object(o["a"])({url:"/admin/adminSearchDevice?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function r(t,e){var a="";return""!==e.abmStatus.value&&(a=a+"&abmStatus="+e.abmStatus.value),""!==e.controlStatus.value&&(a=a+"&controlStatus="+e.controlStatus.value),""!==e.lostMode.value&&(a=a+"&lostMode="+e.lostMode.value),""!==e.activationLock.value&&(a=a+"&activationLock="+e.activationLock.value),""!==e.serialNumber&&(a=a+"&serialNumber="+e.serialNumber),""!==e.noOnlineTime.value&&(a=a+"&noOnlineTime="+e.noOnlineTime.value),""!==e.userName&&(a=a+"&userName="+e.userName),""!==e.userPhone&&(a=a+"&userPhone="+e.userPhone),Object(o["a"])({url:"/deviceInfo/search?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function p(t){return Object(o["a"])({url:"/deviceInfo/getDeviceInfo",method:"post",data:t})}function d(){return Object(o["a"])({url:"/deviceInfo/exportDevice",method:"post"})}function u(t){return Object(o["a"])({url:"/deviceInfo/updateAccessAppAuth",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/deviceInfo/updateAccessAuth",method:"post",data:t})}function g(t){return Object(o["a"])({url:"/deviceInfo/lockMsgUpdate",method:"post",data:t})}function v(t){return Object(o["a"])({url:"/deviceInfo/setWp",method:"post",data:t})}function m(t,e){var a="";return""!==e.taskName&&(a=a+"&taskName="+e.taskName),""!==e.deviceId&&(a=a+"&deviceId="+e.deviceId),e.isCheckInfo?a+="&isCheckInfo=0":a+="&isCheckInfo=1",Object(o["a"])({url:"/task/search?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function h(){return new Promise((function(t,e){var a=s["default"].extend(l["a"]),n=new a({el:document.createElement("div")});document.body.appendChild(n.$el),n.$on("password-correct",(function(e){t(e)})),n.$on("cancel",(function(){e(new Error("用户取消了密码输入"))})),n.open()}))}function b(t){return Object(o["a"])({url:"/deviceInfo/enableLostMode",method:"post",data:t})}function y(t){return Object(o["a"])({url:"/deviceInfo/enableTimeLostMode",method:"post",data:t})}function I(t){return Object(o["a"])({url:"/deviceInfo/resetAuth",method:"post",data:t})}function _(t){return w.apply(this,arguments)}function w(){return w=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/disableLostMode",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function x(t){return S.apply(this,arguments)}function S(){return S=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/disableErase",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function M(t){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["a"])({url:"/deviceInfo/enableErase",method:"post",data:e}));case 1:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function k(t){return A.apply(this,arguments)}function A(){return A=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/clearPasscode",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function O(t){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/getActivationLockSkipCode",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function C(t){return T.apply(this,arguments)}function T(){return T=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/controlClose",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function $(t){return V.apply(this,arguments)}function V(){return V=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/eraseDevice",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function N(t){return Object(o["a"])({url:"/deviceInfo/updateIos",method:"post",data:t})}function W(t){return Object(o["a"])({url:"/deviceInfo/deviceActivateLockOpen",method:"post",data:t})}function D(t){return U.apply(this,arguments)}function U(){return U=Object(i["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return a=t.sent,t.abrupt("return",Object(o["a"])({url:"/deviceInfo/deviceActivateLockClose",method:"post",data:e,headers:{authPassword:a}}));case 4:case"end":return t.stop()}}),t)}))),U.apply(this,arguments)}function P(t){return Object(o["a"])({url:"/deviceInfo/updateDevice",method:"post",data:t})}function z(t){return Object(o["a"])({url:"/deviceInfo/updateDeviceInfo",method:"post",data:t})}function E(t){return Object(o["a"])({url:"/deviceInfo/getLocation?deviceId="+t,method:"get"})}function J(t){return Object(o["a"])({url:"/deviceInfo/getHomeInfo?exTime="+t,method:"get"})}},b562:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return s}));a("b0c0");var n=a("b775");function i(t,e){var a="";return""!==e.name&&(a=a+"&name="+e.name),""!==e.buildId&&(a=a+"&buildId="+e.buildId),""!==e.appId&&(a=a+"&appId="+e.appId),Object(n["a"])({url:"/accessAppList/search?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function o(t){return Object(n["a"])({url:"/accessAppList/delete",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/accessAppList/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/accessAppList/add",method:"post",data:t})}},ba07:function(t,e,a){"use strict";a("be1d")},be1d:function(t,e,a){},c0c2:function(t,e,a){"use strict";a.r(e);var n,i,o,l,s,c,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateInfo}},[t._v("刷新设备信息")]),a("el-tabs",{staticStyle:{"margin-top":"20px"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"设备信息",name:"deviceInfo"}},[a("DeviceInfo",{attrs:{info:t.info},on:{"update:info":function(e){t.info=e},updateInfo:t.updateInfo}})],1),a("el-tab-pane",{attrs:{info:t.info,label:"APP访问限制",name:"deviceApp"},on:{"update:info":function(e){t.info=e}}},[a("AuthAppList",{attrs:{info:t.info},on:{"update:info":function(e){t.info=e},updateInfo:t.updateInfo}})],1),a("el-tab-pane",{attrs:{info:t.info,label:"设备访问限制",name:"deviceConfig"},on:{"update:info":function(e){t.info=e}}},[a("AuthList",{attrs:{info:t.info},on:{"update:info":function(e){t.info=e}}})],1),a("el-tab-pane",{attrs:{info:t.info,label:"锁屏信息",name:"deviceLock"},on:{"update:info":function(e){t.info=e}}},[a("LockMsg",{attrs:{info:t.info},on:{"update:info":function(e){t.info=e}}})],1),a("el-tab-pane",{attrs:{info:t.info,label:"壁纸信息",name:"deviceWp"},on:{"update:info":function(e){t.info=e}}},[a("WpList",{attrs:{info:t.info},on:{"update:info":function(e){t.info=e},update:t.updateInfo}})],1),a("el-tab-pane",{attrs:{info:t.info,label:"操作记录",name:"taskRecord"},on:{"update:info":function(e){t.info=e}}},[a("TaskList",{ref:"childComponent",attrs:{info:t.info},on:{"update:info":function(e){t.info=e}}})],1),a("el-tab-pane",{attrs:{info:t.info,label:"设备定位",name:"deviceMap"},on:{"update:info":function(e){t.info=e}}},[a("DeviceMap",{ref:"childComponentMap",attrs:{info:t.info},on:{"update:info":function(e){t.info=e}}})],1)],1)],1)],1)},p=[],d=(a("b0c0"),a("5c96")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("序列号: ")]),a("span",[t._v(t._s(t.info.serialNumber))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("设备型号: ")]),a("span",[t._v(t._s(t.info.description))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"})]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("abm状态: ")]),0===t.info.abmStatus?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("未注册")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[t._v("已注册")])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("激活锁: ")]),0===t.info.activationLock?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("已关闭")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[t._v("已开启")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("丢失模式: ")]),0===t.info.lostMode?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("已关闭")]):t._e(),1===t.info.lostMode?a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[t._v("已开启")]):t._e(),2===t.info.lostMode?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("待丢失")]):t._e(),3===t.info.lostMode?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("待解除")]):t._e()])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("监管状态: ")]),0===t.info.controlStatus?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("已脱管")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[t._v("监管中")])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("添加时间: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.createTime))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("颜色: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.color))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("激活锁密码: ")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.copy(t.info)}}},[t._v("复制")])],1)])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("卡1运营商: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.tmobileOne))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("设备电话号码: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.phoneOne))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("IMEI: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.imeiOne))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("卡2运营商: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.tmobileTwo))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("设备电话号码: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.phoneTwo))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("IMEI: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.imeiTwo))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("MEID: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.meid))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("UDID: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.udid))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("锁屏信息前置信息: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.deviceMdm.lockMsgBefore))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("锁屏信息后置信息: ")]),a("span",{attrs:{type:"success"}},[t._v(t._s(t.info.deviceMdm.lockMsgAfter))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("锁屏信息开关: ")]),0===t.info.deviceMdm.lockMsgStatus?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("已关闭")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[t._v("已开启")])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("app访问限制类型: ")]),1===t.info.deviceMdm.accessAppType?a("span",{attrs:{type:"danger"}},[t._v("允许所有APP")]):t._e(),2===t.info.deviceMdm.accessAppType?a("span",{attrs:{type:"danger"}},[t._v("允许部分app")]):t._e(),3===t.info.deviceMdm.accessAppType?a("span",{attrs:{type:"danger"}},[t._v("不允许部分app")]):t._e()])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("壁纸类型: ")]),1===t.info.deviceMdm.wallpaperType?a("span",{attrs:{type:"danger"}},[t._v("锁屏")]):t._e(),2===t.info.deviceMdm.wallpaperType?a("span",{attrs:{type:"danger"}},[t._v("主屏幕")]):t._e(),3===t.info.deviceMdm.wallpaperType?a("span",{attrs:{type:"danger"}},[t._v("锁屏和主屏幕")]):t._e()])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("备注: ")]),a("span",[t._v(t._s(t.info.remark))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("最后通信时间: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.deviceLastCallDateFormat))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("分组: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.groupName))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("历史手机号: ")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(){t.phoneDig=!0}}},[t._v("查看")])],1)])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("设备名称: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.deviceName))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("电池电量: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s((100*t.info.batteryLevel).toFixed(2)+"%"))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("剩余存储空间: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.availableDeviceCapacity+"%"))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("设备IP: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.deviceIp))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("设备IP地址: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.deviceIpAddr))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("自动锁机时间: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.autoLostModeTime))])])])],1),a("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("禁用退出远管理按钮: ")]),1===t.info.deviceMdm.disableErase?a("span",{staticStyle:{color:"red"},attrs:{type:"danger"}},[t._v("已禁用")]):a("span",{staticStyle:{color:"green"},attrs:{type:"success"}},[t._v("未禁用")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("系统版本: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.os))])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("最后通信日期: ")]),a("span",{attrs:{type:"danger"}},[t._v(t._s(t.info.deviceLastCallDate))])])])],1)],1)]),a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.updateDevice}},[t._v("更新设备")]),0===t.info.lostMode?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.enableLostMode(!0)}}},[t._v("启用丢失模式")]):t._e(),1===t.info.lostMode?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:t.disableLostMode}},[t._v("关闭丢失模式")]):t._e(),0===t.info.activationLock?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.deviceActivateLockOpen(!0)}}},[t._v("开启激活锁")]):t._e(),1===t.info.activationLock?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(e){return t.deviceActivateLockClose()}}},[t._v("关闭激活锁")]):t._e(),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.clearPasscode()}}},[t._v("移除锁屏密码")]),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.controlClose()}}},[t._v("删除监管")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.eraseDevice()}}},[t._v("强制抹除设备")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.updateIos()}}},[t._v("强制更新系统")]):t._e(),1===t.info.deviceMdm.disableErase?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(e){return t.disableErase()}}},[t._v("关闭退出远管理按钮限制")]):t._e(),0===t.info.deviceMdm.disableErase?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.enableErase()}}},[t._v("开启退出远管理按钮限制")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.resetAuth()}}},[t._v("重置为最新安全策略")]):t._e()],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"primary"},on:{click:function(e){return t.enableLostModeNoWait(!0)}}},[t._v("启用丢失模式：异步")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:t.disableLostModeNoWait}},[t._v("关闭丢失模式：异步")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.enableTimeLostMode(!0)}}},[t._v("定时丢失模式：异步")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.clearPasscodeNoWait()}}},[t._v("移除锁屏密码：异步")]),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.eraseDeviceNoWait()}}},[t._v("强制抹除设备：异步")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.updateIosNoWait()}}},[t._v("强制更新系统：异步")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(e){return t.disableEraseNoWait()}}},[t._v("关闭退出远管理按钮限制: 异步")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.enableEraseNoWait()}}},[t._v("开启退出远管理按钮限制: 异步")]):t._e(),1===t.info.controlStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.resetNoWaitAuth()}}},[t._v("重置为最新安全策略: 异步")]):t._e()],1)]),a("el-dialog",{attrs:{title:"丢失模式",visible:t.enableLostModeVar.dig,width:"30%","before-close":function(){t.enableLostModeVar.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("信息模版")]),a("el-select",{attrs:{clearable:"",placeholder:"信息模版"},on:{change:t.updateLostMsg},model:{value:t.lostMsgList.value,callback:function(e){t.$set(t.lostMsgList,"value",e)},expression:"lostMsgList.value"}},t._l(t.lostMsgList.tab,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("丢失消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"丢失消息"},model:{value:t.enableLostModeVar.msg,callback:function(e){t.$set(t.enableLostModeVar,"msg",e)},expression:"enableLostModeVar.msg"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("详细描述")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"详细描述"},model:{value:t.enableLostModeVar.desc,callback:function(e){t.$set(t.enableLostModeVar,"desc",e)},expression:"enableLostModeVar.desc"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("联系手机号码")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"联系手机号码"},model:{value:t.enableLostModeVar.phone,callback:function(e){t.$set(t.enableLostModeVar,"phone",e)},expression:"enableLostModeVar.phone"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.enableLostMode(!1)}}},[t._v("开启丢失模式")])],1)]),a("el-dialog",{attrs:{title:"历史手机号",visible:t.phoneDig,width:"20%","before-close":function(){t.phoneDig=!1}}},[a("div",{staticStyle:{"margin-top":"10px"}}),t._l(t.localInfo.historyPhone,(function(e,n){return a("div",{staticClass:"text item",staticStyle:{"margin-top":"10px","font-size":"20px"}},[t._v(" "+t._s(e.phone)+" ")])}))],2),a("el-dialog",{attrs:{title:"定时丢失模式",visible:t.enableTimeLostModeVar.dig,width:"30%","before-close":function(){t.enableTimeLostModeVar.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("信息模版")]),a("el-select",{attrs:{clearable:"",placeholder:"信息模版"},on:{change:t.updateLostMsg},model:{value:t.lostMsgList.value,callback:function(e){t.$set(t.lostMsgList,"value",e)},expression:"lostMsgList.value"}},t._l(t.lostMsgList.tab,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("丢失消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"丢失消息"},model:{value:t.enableTimeLostModeVar.msg,callback:function(e){t.$set(t.enableTimeLostModeVar,"msg",e)},expression:"enableTimeLostModeVar.msg"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("详细描述")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"详细描述"},model:{value:t.enableTimeLostModeVar.desc,callback:function(e){t.$set(t.enableTimeLostModeVar,"desc",e)},expression:"enableTimeLostModeVar.desc"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("联系手机号码")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"联系手机号码"},model:{value:t.enableTimeLostModeVar.phone,callback:function(e){t.$set(t.enableTimeLostModeVar,"phone",e)},expression:"enableTimeLostModeVar.phone"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("启用丢失时间")]),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.enableTimeLostModeVar.exTime,callback:function(e){t.$set(t.enableTimeLostModeVar,"exTime",e)},expression:"enableTimeLostModeVar.exTime"}})],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.enableTimeLostMode(!1)}}},[t._v("开启丢失模式")])],1)]),a("el-dialog",{attrs:{title:"激活锁",visible:t.deviceActivateLockOpenVar.dig,width:"30%","before-close":function(){t.deviceActivateLockOpenVar.dig=!1}}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("丢失消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"丢失消息"},model:{value:t.deviceActivateLockOpenVar.msg,callback:function(e){t.$set(t.deviceActivateLockOpenVar,"msg",e)},expression:"deviceActivateLockOpenVar.msg"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deviceActivateLockOpen(!1)}}},[t._v("开启激活锁")])],1)])],1)},f=[],g=(a("e9c4"),a("b64b"),a("27aa")),v=a("aa98"),m=a("2095"),h=a("837c"),b={computed:{item:function(){return h["a"]}},components:{enableLostModeApi:v["h"],getActivationLockSkipCodeApi:v["l"],enableTimeLostModeApi:v["i"],disableLostModeApi:v["f"],clearPasscodeApi:v["a"],controlCloseApi:v["b"],deviceActivateLockOpenApi:v["d"],deviceActivateLockCloseApi:v["c"],updateDeviceApi:v["x"],eraseDeviceApi:v["j"],updateIosApi:v["y"],getMyLostAllApi:m["c"],enableEraseApi:v["g"],disableEraseApi:v["e"],resetAuthApi:v["s"]},props:{info:{type:Object,default:{}}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t))}}},created:function(){n=this,this.localInfo=JSON.parse(JSON.stringify(this.info)),this.getMyLostAll()},methods:{updateLostMsg:function(t){if(""===t)console.log("Selected value changed to:",t);else{var e=JSON.parse(t);console.log(e.lostMsg),this.enableLostModeVar.msg=e.lostMsg,this.enableLostModeVar.phone=e.lostPhone,this.enableLostModeVar.desc=e.lostDesc,this.enableTimeLostModeVar.msg=e.lostMsg,this.enableTimeLostModeVar.phone=e.lostPhone,this.enableTimeLostModeVar.desc=e.lostDesc}},copy:function(t){var e=this;console.log("设备信息",t),Object(v["l"])({deviceId:t.deviceId}).then((function(t){var a=document.createElement("input");a.value=t.data,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.className="oInput",a.style.display="none",e.$msg("复制成功",1)}))},enableLostMode:function(t){console.log("enableLostMode",t),t?(this.enableLostModeVar.dig=!0,this.enableLostModeVar.isWait=1):(this.enableLostModeVar.deviceId=this.localInfo.deviceId,Object(v["h"])(this.enableLostModeVar).then((function(t){n.$msg("操作成功",1),n.enableLostModeVar.dig=!1,n.$emit("updateInfo")})))},enableLostModeNoWait:function(t){console.log("enableLostMode",t),t&&(this.enableLostModeVar.dig=!0,this.enableLostModeVar.isWait=0)},enableTimeLostMode:function(t){console.log("enableLostMode",t),console.log("enableLostMode",t),t?(this.enableTimeLostModeVar.dig=!0,this.enableTimeLostModeVar.isWait=0):(this.enableTimeLostModeVar.deviceId=this.localInfo.deviceId,null!=this.enableTimeLostModeVar.exTime&&""!==this.enableTimeLostModeVar.exTime||(this.enableTimeLostModeVar.exTime=0),Object(v["i"])(this.enableTimeLostModeVar).then((function(t){n.$msg("操作成功",1),n.enableTimeLostModeVar.dig=!1,n.$emit("updateInfo")})))},disableLostMode:function(){this.disableLostModeVar.deviceId=this.localInfo.deviceId,this.disableLostModeVar.isWait=1,Object(v["f"])(this.disableLostModeVar).then((function(t){n.$msg("关闭丢失模式成功",1),n.$emit("updateInfo")}))},disableLostModeNoWait:function(){this.disableLostModeVar.deviceId=this.localInfo.deviceId,this.disableLostModeVar.isWait=0,Object(v["f"])(this.disableLostModeVar).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},getMyLostAll:function(){Object(m["c"])().then((function(t){var e=t.data;n.lostMsgList.tab=[];for(var a=0;a<e.length;a++)console.log(e[a]),n.lostMsgList.tab.push({value:JSON.stringify(e[a]),label:e[a].lostName})}))},deviceActivateLockOpen:function(t){this.deviceActivateLockOpenVar.deviceId=this.localInfo.deviceId,Object(v["d"])(this.deviceActivateLockOpenVar).then((function(t){n.$msg("启用激活锁成功",1),n.$emit("updateInfo")}))},deviceActivateLockClose:function(){this.deviceActivateLockCloseVar.deviceId=this.localInfo.deviceId,Object(v["c"])(this.deviceActivateLockCloseVar).then((function(t){n.$msg("关闭激活锁成功",1),n.$emit("updateInfo")}))},disableErase:function(t){this.disableEraseVar.deviceId=this.localInfo.deviceId,this.disableEraseVar.isWait=1,Object(v["e"])(this.disableEraseVar).then((function(t){n.$msg("操作成功",1),n.$emit("updateInfo")}))},enableErase:function(){this.enableEraseVar.deviceId=this.localInfo.deviceId,this.enableEraseVar.isWait=1,Object(v["g"])(this.enableEraseVar).then((function(t){n.$msg("操作成功",1),n.$emit("updateInfo")}))},disableEraseNoWait:function(){this.disableEraseVar.deviceId=this.localInfo.deviceId,this.disableEraseVar.isWait=0,Object(v["e"])(this.disableEraseVar).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},enableEraseNoWait:function(){this.enableEraseVar.deviceId=this.localInfo.deviceId,this.enableEraseVar.isWait=0,Object(v["g"])(this.enableEraseVar).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},updateDevice:function(){Object(v["x"])({deviceId:this.localInfo.deviceId,isWait:1}).then((function(t){n.$msg("更新设备成功",1),n.$emit("updateInfo")}))},clearPasscode:function(){Object(v["a"])({deviceId:this.localInfo.deviceId,isWait:1}).then((function(t){n.$msg("移除锁屏密码成功",1),n.$emit("updateInfo")}))},clearPasscodeNoWait:function(){Object(v["a"])({deviceId:this.localInfo.deviceId,isWait:0}).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))},controlClose:function(){var t=this;this.$confirm("此操作将删除abm监管,删除描述文件,关闭激活锁,移除app限制,操作后无法控制设备,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["b"])({deviceId:t.localInfo.deviceId}).then((function(t){n.$msg("删除监管成功",1),n.$emit("updateInfo")}))}))},resetAuth:function(){var t=this;this.$confirm("此操作将重置权限为最新安全策略状态,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["s"])({deviceId:t.localInfo.deviceId,isWait:1}).then((function(t){n.$msg("成功",1),n.$emit("updateInfo")}))}))},resetNoWaitAuth:function(){var t=this;this.$confirm("此操作将重置权限为最新安全策略状态,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["s"])({deviceId:t.localInfo.deviceId,isWait:0}).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))},eraseDevice:function(){var t=this;this.$confirm("此操作将抹除设备,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["j"])({deviceId:t.localInfo.deviceId,isWait:1}).then((function(t){n.$msg("命令执行成功",1),n.$emit("updateInfo")}))}))},eraseDeviceNoWait:function(){var t=this;this.$confirm("此操作将抹除设备,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["j"])({deviceId:t.localInfo.deviceId,isWait:0}).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))},updateIos:function(){var t=this;this.$confirm("此操作将更新系统可能影响设备使用,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["y"])({deviceId:t.localInfo.deviceId,isWait:1}).then((function(t){n.$msg("命令执行成功",1),n.$emit("updateInfo")}))}))},updateIosNoWait:function(){var t=this;this.$confirm("此操作将更新系统可能影响设备使用,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(v["y"])({deviceId:t.localInfo.deviceId,isWait:0}).then((function(t){n.$msg("命令下发成功",1),n.$emit("updateInfo")}))}))}},data:function(){return{localInfo:this.info,phoneDig:!1,enableLostModeVar:{msg:"",deviceId:"",phone:"",desc:"",dig:!1,isWait:1},enableTimeLostModeVar:{msg:"",deviceId:"",phone:"",desc:"",dig:!1,isWait:1,exTime:"",time:""},disableLostModeVar:{deviceId:"",isWait:1},disableEraseVar:{deviceId:"",isWait:1},enableEraseVar:{deviceId:"",isWait:1},lostMsgList:{tab:[{}],value:""},deviceActivateLockOpenVar:{deviceId:"",msg:"",dig:!1},deviceActivateLockCloseVar:{deviceId:""}}}},y=b,I=a("2877"),_=Object(I["a"])(y,u,f,!1,null,"30431251",null),w=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-radio-group",{model:{value:t.localInfo.deviceMdm.accessAppType,callback:function(e){t.$set(t.localInfo.deviceMdm,"accessAppType",e)},expression:"localInfo.deviceMdm.accessAppType"}},[a("el-radio",{attrs:{label:1}},[t._v("允许所有APP")]),a("el-radio",{attrs:{label:2}},[t._v("允许部分app")]),a("el-radio",{attrs:{label:3}},[t._v("不允许部分app")])],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保存并应用")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.saveNoWait}},[t._v("保存并应用: 异步")]),a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:t.localInfo.authAppList}},[a("el-table-column",{attrs:{prop:"appId",label:"appId"}}),a("el-table-column",{attrs:{prop:"name",label:"app名称"}}),a("el-table-column",{attrs:{prop:"buildId",label:"包名"}}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.isPublic?a("el-tag",{attrs:{type:"success"}},[t._v("公有")]):t._e(),0===e.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[t._v("自有")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.row.icon,alt:"icon"}})]}}])}),a("el-table-column",{attrs:{prop:"appType",label:"app类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.appType?a("el-tag",{attrs:{type:"danger"}},[t._v("appstore")]):t._e(),2===e.row.appType?a("el-tag",{attrs:{type:"danger"}},[t._v("自定义")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.remove(e.row.appId)}}},[t._v("删除")])]}}])})],1)],1)],1),a("AppList",{staticStyle:{"margin-top":"20px"},on:{addToDevice:t.addToDevice}})],1)],1)},S=[],M=(a("4de4"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("appId")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的appId"},model:{value:t.query.appId,callback:function(e){t.$set(t.query,"appId",e)},expression:"query.appId"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("app名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的app名称"},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("app包名")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的app包名"},model:{value:t.query.buildId,callback:function(e){t.$set(t.query,"buildId",e)},expression:"query.buildId"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchApp}},[t._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:t.page.data}},[a("el-table-column",{attrs:{prop:"appId",label:"appId"}}),a("el-table-column",{attrs:{prop:"name",label:"app名称"}}),a("el-table-column",{attrs:{prop:"buildId",label:"包名"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.row.icon,alt:"icon"}})]}}])}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.isPublic?a("el-tag",{attrs:{type:"success"}},[t._v("公有")]):t._e(),0===e.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[t._v("自有")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"appType",label:"app类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.appType?a("el-tag",{attrs:{type:"success"}},[t._v("appstore")]):t._e(),2===e.row.appType?a("el-tag",{attrs:{type:"danger"}},[t._v("自定义")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"defaultSelect",label:"注册设备默认禁止app"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.defaultSelect?a("el-tag",{attrs:{type:"success"}},[t._v("是")]):t._e(),0===e.row.defaultSelect?a("el-tag",{attrs:{type:"danger"}},[t._v("否")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.addToDevice(e.row)}}},[t._v("添加")])]}}])})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":t.page.page,"page-sizes":[5,10,20,50],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),a("el-dialog",{attrs:{title:"修改APP",visible:t.update.localDialogVisible,width:"30%","before-close":t.closeDialog}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("注册设备默认禁止app")]),a("el-select",{attrs:{clearable:"",placeholder:"注册设备默认禁止app"},model:{value:t.update.defaultSelect.value,callback:function(e){t.$set(t.update.defaultSelect,"value",e)},expression:"update.defaultSelect.value"}},t._l(t.update.defaultSelect.tab,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("div",[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.updateApp(t.update,!0)}}},[t._v("保存")])],1)],1),a("el-dialog",{attrs:{title:"添加APP",visible:t.add.dig,width:"30%","before-close":function(){t.add.dig=!1}}},[a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("app类型")]),a("el-select",{attrs:{clearable:"",placeholder:"app类型"},model:{value:t.add.appType.value,callback:function(e){t.$set(t.add.appType,"value",e)},expression:"add.appType.value"}},t._l(t.add.appType.tab,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),2===t.add.appType.value&&""!==t.add.appType.value?a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("app名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"app名称"},model:{value:t.add.name,callback:function(e){t.$set(t.add,"name",e)},expression:"add.name"}})],1):t._e(),2===t.add.appType.value&&""!==t.add.appType.value?a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("app包名")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"app包名"},model:{value:t.add.buildId,callback:function(e){t.$set(t.add,"buildId",e)},expression:"add.buildId"}})],1):t._e(),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("注册设备默认禁止app")]),a("el-select",{attrs:{clearable:"",placeholder:"注册设备默认禁止app"},model:{value:t.add.defaultSelect.value,callback:function(e){t.$set(t.add.defaultSelect,"value",e)},expression:"add.defaultSelect.value"}},t._l(t.add.defaultSelect.tab,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),1===t.add.appType.value&&""!==t.add.appType.value?a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("appstore链接")]),a("el-input",{staticStyle:{width:"300px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"appstore链接"},model:{value:t.add.appstoreUrl,callback:function(e){t.$set(t.add,"appstoreUrl",e)},expression:"add.appstoreUrl"}})],1):t._e(),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addApp(!0)}}},[t._v("保存")])],1)])],1)}),L=[],k=a("b562"),A={components:{getList:k["b"],remove:k["c"],update:k["d"],add:k["a"]},created:function(){i=this,console.log("创建"),i.getAppList()},props:{device:{type:Object,default:function(){return{}}}},methods:{addToDevice:function(t){this.$emit("addToDevice",t)},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),i.page.pageSize=t,i.page.page=1,i.getAppList()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),i.page.page=t,i.getAppList()},getAppList:function(){Object(k["b"])(i.page,i.query).then((function(t){i.page=t.data}))},searchApp:function(){Object(k["b"])(i.page,i.query).then((function(t){i.page=t.data}))},removeApp:function(t){Object(k["c"])({appId:t}).then((function(t){i.getAppList()}))},updateApp:function(t,e){e?(console.log("保存",t),Object(k["d"])({appId:this.update.appId,defaultSelect:this.update.defaultSelect.value}).then((function(t){i.$msg("保存成功",1),i.getAppList()})),i.update.localDialogVisible=!1):(i.update.appId=t.appId,i.update.defaultSelect.value=t.defaultSelect,i.update.localDialogVisible=!0)},closeDialog:function(){this.localDialogVisible=!1},addApp:function(t){t?(Object(k["a"])({appType:i.add.appType.value,name:i.add.buildId,buildId:i.add.buildId,appstoreUrl:i.add.appstoreUrl,defaultSelect:i.add.defaultSelect.value}).then((function(t){i.$msg("添加成功",1),i.getAppList()})),i.add.dig=!1):i.add.dig=!0}},data:function(){return{page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{name:"",buildId:"",appId:""},update:{localDialogVisible:!1,appId:"",defaultSelect:{tab:[{value:0,label:"否"},{value:1,label:"是"}],value:""}},add:{dig:!1,appType:{tab:[{value:1,label:"appstore"},{value:2,label:"自定义"}],value:""},name:"",buildId:"",appstoreUrl:"",defaultSelect:{tab:[{value:0,label:"否"},{value:1,label:"是"}],value:""}}}}},O=A,j=Object(I["a"])(O,M,L,!1,null,"d82016fe",null),C=j.exports,T={components:{AppList:C,updateAccessAppAuth:v["v"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:this.info}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t))}}},created:function(){console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo)},methods:{addToDevice:function(t){for(var e=0;e<this.localInfo.authAppList.length;e++)if(this.localInfo.authAppList[e].appId===t.appId)return;this.localInfo.authAppList.push(t)},save:function(){var t=this;console.log("保存数据",this.info);for(var e={deviceId:this.localInfo.deviceId,accessAppType:this.localInfo.deviceMdm.accessAppType,appIdList:[],isWait:1},a=0;a<this.localInfo.authAppList.length;a++)e.appIdList.push(this.localInfo.authAppList[a].appId);console.log("j",e),Object(v["v"])(e).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))},saveNoWait:function(){var t=this;console.log("保存数据",this.info);for(var e={deviceId:this.localInfo.deviceId,accessAppType:this.localInfo.deviceMdm.accessAppType,appIdList:[],isWait:0},a=0;a<this.localInfo.authAppList.length;a++)e.appIdList.push(this.localInfo.authAppList[a].appId);console.log("j",e),Object(v["v"])(e).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))},remove:function(t){this.localInfo.authAppList=this.localInfo.authAppList.filter((function(e){return e.appId!==t})),console.log("子组件保存数据",this.localInfo)}}},$=T,V=Object(I["a"])($,x,S,!1,null,null,null),N=V.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("默认勾选为已下发策略")])]),t._l(t.localInfo.authList,(function(e,n){return a("div",{staticStyle:{"margin-top":"20px"}},[1===e.isShow?a("el-checkbox",{attrs:{label:e.authName},on:{change:t.up},model:{value:e.isCheckd,callback:function(a){t.$set(e,"isCheckd",a)},expression:"item.isCheckd"}}):t._e()],1)})),a("div",[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保存并应用")]),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.saveNoWait}},[t._v("保存并应用: 异步")])],1)],2)],1)},D=[],U={components:{updateAccessAuth:v["w"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:""}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t));for(var e=0;e<this.localInfo.authList.length;e++)1===this.localInfo.authList[e].isOpen?this.$set(this.localInfo.authList[e],"isCheckd",!0):this.$set(this.localInfo.authList[e],"isCheckd",!1);console.log("触发1",this.localInfo)}}},created:function(){this,console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo);for(var t=0;t<this.localInfo.authList.length;t++)1===this.localInfo.authList[t].isOpen?this.$set(this.localInfo.authList[t],"isCheckd",!0):this.$set(this.localInfo.authList[t],"isCheckd",!1)},methods:{save:function(){var t=this;console.log("保存数据",this.info);for(var e={deviceId:this.localInfo.deviceId,authIdList:[],isWait:1},a=0;a<this.localInfo.authList.length;a++)this.localInfo.authList[a].isCheckd&&e.authIdList.push(this.localInfo.authList[a].authId);Object(v["w"])(e).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),t.$msg("保存成功",1)}))},saveNoWait:function(){var t=this;console.log("保存数据",this.info);for(var e={deviceId:this.localInfo.deviceId,authIdList:[],isWait:0},a=0;a<this.localInfo.authList.length;a++)this.localInfo.authList[a].isCheckd&&e.authIdList.push(this.localInfo.authList[a].authId);Object(v["w"])(e).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),t.$msg("保存成功",1)}))}}},P=U,z=Object(I["a"])(P,W,D,!1,null,null,null),E=z.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("span",{staticStyle:{"font-weight":"bold",color:"red"}},[t._v("此功能为设置IOS锁屏底部的消息")])]),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("锁屏前置消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"锁屏前置消息"},model:{value:t.localInfo.deviceMdm.lockMsgBefore,callback:function(e){t.$set(t.localInfo.deviceMdm,"lockMsgBefore",e)},expression:"localInfo.deviceMdm.lockMsgBefore"}})],1),a("div",[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("锁屏后置消息")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"锁屏后置消息"},model:{value:t.localInfo.deviceMdm.lockMsgAfter,callback:function(e){t.$set(t.localInfo.deviceMdm,"lockMsgAfter",e)},expression:"localInfo.deviceMdm.lockMsgAfter"}})],1),a("div",[0===t.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.save(1)}}},[t._v("开启锁屏消息")]):t._e(),1===t.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(e){return t.save(0)}}},[t._v("关闭锁屏消息")]):t._e(),0===t.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.saveNoWait(1)}}},[t._v("开启锁屏消息: 异步")]):t._e(),1===t.localInfo.deviceMdm.lockMsgStatus?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger"},on:{click:function(e){return t.saveNoWait(0)}}},[t._v("关闭锁屏消息: 异步")]):t._e()],1)])],1)},B=[],q={components:{lockMsgUpdate:v["r"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:this.info}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t))}}},created:function(){this,console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo)},methods:{save:function(t){var e=this;console.log("保存数据",this.info);var a={deviceId:this.localInfo.deviceId,beforeMsg:this.localInfo.deviceMdm.lockMsgBefore,afterMsg:this.localInfo.deviceMdm.lockMsgAfter,status:t,isWait:1};Object(v["r"])(a).then((function(a){console.log(a),e.localInfo.deviceMdm.lockMsgStatus=t,e.$emit("updateInfo",e.localInfo),e.$msg("操作成功",1)}))},saveNoWait:function(t){var e=this;console.log("保存数据",this.info);var a={deviceId:this.localInfo.deviceId,beforeMsg:this.localInfo.deviceMdm.lockMsgBefore,afterMsg:this.localInfo.deviceMdm.lockMsgAfter,status:t,isWait:0};Object(v["r"])(a).then((function(t){console.log(t),e.$emit("updateInfo",e.localInfo),e.$msg("操作成功",1)}))}}},F=q,R=Object(I["a"])(F,J,B,!1,null,null,null),G=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"20px","margin-left":"20px"}},[a("div",[a("el-radio-group",{model:{value:t.localInfo.deviceMdm.wallpaperType,callback:function(e){t.$set(t.localInfo.deviceMdm,"wallpaperType",e)},expression:"localInfo.deviceMdm.wallpaperType"}},[a("el-radio",{attrs:{label:1}},[t._v("仅锁屏")]),a("el-radio",{attrs:{label:2}},[t._v("仅主屏")]),a("el-radio",{attrs:{label:3}},[t._v("锁屏与主屏幕")])],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保存并应用")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.saveNoWait}},[t._v("保存并应用: 异步")]),a("div",{staticStyle:{"margin-top":"50px","margin-left":"10px"}},[a("el-card",{staticStyle:{"max-width":"30%","margin-top":"20px","margin-left":"20px","text-align":"center"}},[a("span",{staticStyle:{"font-weight":"bold",color:"red"}},[t._v("当前壁纸: "+t._s(t.localInfo.deviceMdm.wpName))]),a("div",{staticStyle:{"margin-top":"20px",width:"300px",height:"500px"}},[a("img",{attrs:{src:t.localInfo.deviceMdm.wpUrl}})])])],1)],1),a("WpList",{on:{selectWp:t.selectWp}})],1)],1)},K=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("壁纸Id")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的壁纸Id"},model:{value:t.query.wpId,callback:function(e){t.$set(t.query,"wpId",e)},expression:"query.wpId"}})],1),a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("壁纸名称")]),a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"请输入需要搜索的壁纸名称"},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchWp}},[t._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:t.page.data}},[a("el-table-column",{attrs:{prop:"wpId",label:"壁纸id",width:"280"}}),a("el-table-column",{attrs:{prop:"name",label:"壁纸名称",width:"280"}}),a("el-table-column",{attrs:{prop:"isPublic",label:"归属",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.isPublic?a("el-tag",{attrs:{type:"success"}},[t._v("公有")]):t._e(),0===e.row.isPublic?a("el-tag",{attrs:{type:"danger"}},[t._v("自有")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"wpUrl",label:"壁纸",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"zoom-icon",staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.wpUrl+"?time="+(new Date).getTime(),alt:"icon"},on:{click:function(a){t.bigWp(e.row.wpUrl+"?time="+(new Date).getTime())}}})]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.selectWp(e.row)}}},[t._v("选择")])]}}])})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":t.page.page,"page-sizes":[5,10,20,50],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),a("el-dialog",{attrs:{title:"修改壁纸",visible:t.update.localDialogVisible,width:"30%","before-close":t.closeDialog}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("壁纸名称")]),a("div",[a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"壁纸名称"},model:{value:t.update.name,callback:function(e){t.$set(t.update,"name",e)},expression:"update.name"}})],1),a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("壁纸文件")]),a("div",[a("input",{ref:"updateFileInput",staticStyle:{"margin-top":"10px"},attrs:{type:"file",accept:"image/png"},on:{change:t.handleFileChange}})]),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.updateWp(null,!0)}}},[t._v("确认修改")])],1),a("el-dialog",{attrs:{title:"新增壁纸",visible:t.add.dig,width:"30%","before-close":function(){t.add.dig=!1}}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("壁纸名称")]),a("div",[a("el-input",{staticStyle:{width:"200px","margin-right":"20px","margin-bottom":"20px"},attrs:{placeholder:"壁纸名称"},model:{value:t.add.name,callback:function(e){t.$set(t.add,"name",e)},expression:"add.name"}})],1),a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("壁纸文件")]),a("div",[a("input",{ref:"addFileInput",staticStyle:{"margin-top":"10px"},attrs:{type:"file",accept:"image/png"},on:{change:t.handleFileChangeAdd}})]),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.addWp(!0)}}},[t._v("保存")])],1),a("el-dialog",{staticStyle:{width:"1080px",height:"1920px","margin-left":"200px"},attrs:{title:"图片",visible:t.wpTempDig,width:"30%","before-close":t.closeWpDialog}},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.wpTemp,alt:"icon"}})])],1)},X=[],Y=a("f926"),Z={computed:{fa:function(){return g["a"]}},components:{getListApi:Y["b"],removeApi:Y["c"],updateApi:Y["d"],addApi:Y["a"]},created:function(){o=this,console.log("创建"),o.getWpList()},methods:{selectWp:function(t){console.log("选择",t),this.$emit("selectWp",t)},handleFileChange:function(t){var e=this,a=t.target.files[0];if(a){var n=new FileReader;n.readAsDataURL(a),n.onload=function(){console.log("处罚回调"),e.update.wpBase64=n.result.split(",")[1],console.log(e.update.wpBase64)}}},handleFileChangeAdd:function(t){var e=this,a=t.target.files[0];if(a){var n=new FileReader;n.readAsDataURL(a),n.onload=function(){console.log("处罚回调"),e.add.wpBase64=n.result.split(",")[1],console.log(e.update.wpBase64)}}},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),o.page.pageSize=t,o.page.page=1,o.getWpList()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),o.page.page=t,o.getWpList()},getWpList:function(){Object(Y["b"])(o.page,o.query).then((function(t){o.page=t.data}))},searchWp:function(){Object(Y["b"])(o.page,o.query).then((function(t){o.page=t.data}))},bigWp:function(t){this.wpTempDig=!0,this.wpTemp=t},removeWp:function(t){Object(Y["c"])({wpId:t}).then((function(t){o.getWpList()}))},updateWp:function(t,e){e?(console.log("保存",o.update.wpId),Object(Y["d"])({wpId:o.update.wpId,name:o.update.name,wpBase64:o.update.wpBase64}).then((function(t){o.$msg("修改成功",1),o.getWpList()})),o.update.localDialogVisible=!1):("updateFileInput"in this.$refs&&"value"in this.$refs.updateFileInput&&(this.$refs.updateFileInput.value=""),o.update.wpId=t.wpId,o.update.name=t.name,o.update.wpBase64="",o.update.localDialogVisible=!0)},closeDialog:function(){this.update.localDialogVisible=!1},closeWpDialog:function(){this.wpTempDig=!1},addWp:function(t){t?Object(Y["a"])({name:o.add.name,wpBase64:o.add.wpBase64}).then((function(t){o.$msg("添加成功",1),o.getWpList(),o.add.dig=!1})):(console.log(this.$refs.addFileInput),"addFileInput"in this.$refs&&"value"in this.$refs.addFileInput&&(this.$refs.addFileInput.value=""),o.add.dig=!0)}},data:function(){return{page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{name:"",wpId:""},update:{localDialogVisible:!1,wpId:"",name:"",wpBase64:""},add:{dig:!1,name:"",wpBase64:""},wpTempDig:!1,wpTemp:""}}},tt=Z,et=Object(I["a"])(tt,Q,X,!1,null,"35ab46aa",null),at=et.exports,nt={components:{WpList:at,setWpApi:v["t"]},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:this.info}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t))}}},created:function(){console.log("页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info)),console.log(this.localInfo)},methods:{selectWp:function(t){console.log("选择wp",t),this.localInfo.deviceMdm.wpUrl=t.wpUrl,this.localInfo.deviceMdm.wallpaperId=t.wpId,this.localInfo.deviceMdm.wpName=t.name},save:function(){var t=this;console.log("保存数据",this.info);var e={deviceId:this.localInfo.deviceId,wpId:this.localInfo.deviceMdm.wallpaperId,type:this.localInfo.deviceMdm.wallpaperType,isWait:1};Object(v["t"])(e).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))},saveNoWait:function(){var t=this;console.log("保存数据",this.info);var e={deviceId:this.localInfo.deviceId,wpId:this.localInfo.deviceMdm.wallpaperId,type:this.localInfo.deviceMdm.wallpaperType,isWait:0};Object(v["t"])(e).then((function(e){console.log(e),t.$emit("updateInfo",t.localInfo),Object(d["Message"])({message:"保存成功",type:"success",duration:5e3})}))}}},it=nt,ot=Object(I["a"])(it,H,K,!1,null,null,null),lt=ot.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{"max-width":"95%","margin-top":"10px","margin-left":"20px"}},[a("div",{staticStyle:{display:"inline-block","margin-left":"0px","margin-top":"20px"}},[a("span",{staticClass:"el-form-item__label",staticStyle:{"font-weight":"bold"}},[t._v("操作命令")]),a("el-input",{staticStyle:{width:"200px","margin-right":"40px","margin-bottom":"20px"},attrs:{placeholder:"请输入操作命令"},model:{value:t.query.taskName,callback:function(e){t.$set(t.query,"taskName",e)},expression:"query.taskName"}}),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("设备检测")]),a("el-switch",{staticStyle:{"margin-right":"30px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.query.isCheckInfo,callback:function(e){t.$set(t.query,"isCheckInfo",e)},expression:"query.isCheckInfo"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchTask}},[t._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:t.page.data}},[a("el-table-column",{attrs:{prop:"taskId",label:"任务id",width:"250"}}),a("el-table-column",{attrs:{prop:"account",label:"操作账号",width:"250"}}),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",width:"250"}}),a("el-table-column",{attrs:{prop:"taskStatus",label:"操作状态",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.taskStatus?a("el-tag",{attrs:{type:"warning"}},[t._v("等待执行")]):t._e(),1===e.row.taskStatus?a("el-tag",{attrs:{type:"warning"}},[t._v("唤醒已发送")]):t._e(),2===e.row.taskStatus?a("el-tag",{attrs:{type:"warning"}},[t._v("命令已发送")]):t._e(),3===e.row.taskStatus?a("el-tag",{attrs:{type:"success"}},[t._v("命令执行成功")]):t._e(),4===e.row.taskStatus?a("el-tag",{attrs:{type:"error"}},[t._v("命令执行失败")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"操作时间",width:"250"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"empty-text":"暂无数据",background:"","current-page":t.page.page,"page-sizes":[5,10,20,50],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)],1)},ct=[],rt={components:{taskListApi:v["u"]},created:function(){l=this,console.log("创建"),this.localInfo=JSON.parse(JSON.stringify(this.info)),l.getListApi()},props:{info:{type:Object,default:function(){return{}}}},methods:{handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),l.page.pageSize=t,l.page.page=1,l.getListApi()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),l.page.page=t,l.getListApi()},getListApi:function(){l.query.deviceId=this.localInfo.deviceId,Object(v["u"])(l.page,l.query).then((function(t){l.page=t.data}))},searchTask:function(){l.query.deviceId=this.localInfo.deviceId,Object(v["u"])(l.page,l.query).then((function(t){l.page=t.data}))}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t))}}},data:function(){return{localInfo:this.info,page:{pages:0,page:1,pageSize:5,total:0,data:[{}]},query:{taskName:"",deviceId:"",isCheckInfo:!1},update:{localDialogVisible:!1,wpId:"",name:"",wpBase64:""},add:{dig:!1,name:"",wpBase64:""},wpTempDig:!1,wpTemp:""}}},pt=rt,dt=Object(I["a"])(pt,st,ct,!1,null,"d9c766c6",null),ut=dt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("获取定位")]),t.lng?a("p",{staticStyle:{"margin-top":"20px"}},[t._v("经度: "+t._s(t.lng))]):t._e(),t.lng?a("p",[t._v("纬度: "+t._s(t.lat))]):t._e(),t.lng?a("p",[t._v("地址: "+t._s(t.addr))]):t._e(),a("div",{staticStyle:{height:"700px","margin-top":"20px"},attrs:{id:"container"}})],1)},gt=[],vt=(a("d81d"),a("862d")),mt=a.n(vt),ht={name:"map-view",components:{getLocationApi:v["q"]},created:function(){s=this,console.log("map页面创建成功"),this.localInfo=JSON.parse(JSON.stringify(this.info))},props:{info:{type:Object,default:function(){return{}}}},data:function(){return{localInfo:"",map:null,geocoder:null,lat:"",lng:"",addr:""}},watch:{info:{deep:!0,handler:function(t){this.localInfo=JSON.parse(JSON.stringify(t))}}},mounted:function(){},unmounted:function(){this.map&&this.map.destroy()},methods:{convertBak:function(t,e){var a=[t,e];AMap.convertFrom(a,"gps",(function(t,e){if("ok"===e.info){var a=e.locations[0];console.log("转换后坐标",a.lat,a.lng),s.lat=a.lat,s.lng=a.lng,s.geocoder?console.log("zai"):console.log("bu"),s.geocoder.getAddress([a.lng,a.lat],(function(t,e){if("complete"===t&&"OK"===e.info){console.log("获取地址成功");var n=e.regeocode.formattedAddress;console.log("地理位置",e),console.log(n),s.addr=n,s.map.setCenter([a.lng,a.lat]),console.log("切换中心点成功"),s.map.clearMap();var i=new AMap.Marker({position:[a.lng,a.lat],map:s.map});s.map.add(i),console.log("设置标记点成功")}else console.log("获取地址失败")}))}}))},update:function(){Object(v["q"])(this.localInfo.deviceId).then((function(t){console.log("获取定位成功",t.data),s.convertBak(t.data.longitude,t.data.latitude)})).catch((function(t){console.log(t)}))},initAMap:function(t,e){window._AMapSecurityConfig={serviceHost:"https://mdm.ppgjx.com/_AMapService"},mt.a.load({key:"bd8433948da1eff2231e0bef0662e91c",version:"2.0",plugins:["AMap.Scale","AMap.Geocoder"]}).then((function(a){console.log("地图初始化成功"),s.map=new a.Map("container",{viewMode:"3D",zoom:11,center:[t,e]}),console.log("地图初始化成功1"),s.geocoder=new a.Geocoder({city:"010"}),console.log("地图初始化成功2");var n=new a.Marker({position:[t,e],map:s.map});s.map.add(n)})).catch((function(t){console.log("地图初始化失败"),console.log(t)}))}}},bt=ht,yt=(a("ba07"),Object(I["a"])(bt,ft,gt,!1,null,"4c92e6e8",null)),It=yt.exports,_t={components:{DeviceInfo:w,getInfo:v["o"],LockMsg:G,AuthAppList:N,updateAccessAppAuth:v["v"],AuthList:E,WpList:lt,TaskList:ut,DeviceMap:It},created:function(){c=this,c.deviceId=this.$route.query.deviceId,console.log("Serial Number:",c.deviceId),Object(v["o"])({deviceId:c.deviceId}).then((function(t){c.info=t.data}))},methods:{updateInfo:function(){console.log("收到更新"),Object(v["o"])({deviceId:c.deviceId}).then((function(t){c.info=t.data}))},handleClick:function(t,e){console.log("切换",t.name),"taskRecord"===t.name&&(console.log("切换到操作记录"),this.$refs.childComponent.getListApi()),"deviceMap"===t.name&&(console.log("切换到设备定位"),this.$refs.childComponentMap.initAMap(116,36))},handleUpdateInfo:function(t){this.info=t,console.log("Updated Info:",t)},handleAuthAppList:function(t){this.info=t},handleAuthList:function(t){this.info=t}},data:function(){return{activeName:"deviceInfo",deviceId:"",info:{}}}},wt=_t,xt=Object(I["a"])(wt,r,p,!1,null,"8a4d603c",null);e["default"]=xt.exports},e9c4:function(t,e,a){var n=a("23e7"),i=a("d066"),o=a("d039"),l=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,r=/^[\uDC00-\uDFFF]$/,p=function(t,e,a){var n=a.charAt(e-1),i=a.charAt(e+1);return c.test(t)&&!r.test(i)||r.test(t)&&!c.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},d=o((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&n({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,a){var n=l.apply(null,arguments);return"string"==typeof n?n.replace(s,p):n}})},f926:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return s}));a("b0c0");var n=a("b775");function i(t,e){var a="";return""!==e.wpId&&(a=a+"&wpId="+e.wpId),""!==e.name&&(a=a+"&name="+e.name),Object(n["a"])({url:"/wallpaper/search?page="+t.page+"&pageSize="+t.pageSize+a,method:"get"})}function o(t){return Object(n["a"])({url:"/wallpaper/delete",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/wallpaper/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/wallpaper/add",method:"post",data:t})}}}]);